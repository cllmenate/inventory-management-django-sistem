{"config":{"lang":["pt"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Vis\u00e3o Geral do Projeto","text":"<p>O Sistema de Gest\u00e3o de Estoque \u00e9 uma solu\u00e7\u00e3o empresarial robusta desenvolvida para centralizar e otimizar o controle de invent\u00e1rio. O projeto nasceu da necessidade de um sistema que combinasse a facilidade de uso de um mon\u00f3lito com a escalabilidade de processos ass\u00edncronos modernos.</p>"},{"location":"#nossa-visao","title":"\ud83c\udfaf Nossa Vis\u00e3o","text":"<p>Proporcionar aos gestores uma vis\u00e3o clara e em tempo real de seus ativos, minimizando perdas por vencimento, falta de estoque ou falhas operacionais. O sistema \u00e9 constru\u00eddo sobre pilares de auditabilidade, desempenho e seguran\u00e7a.</p>"},{"location":"#stack-tecnologica","title":"\ud83d\udee0\ufe0f Stack Tecnol\u00f3gica","text":"Camada Tecnologia Papel Backend Django 5.2 Framework principal e ORM API REST Framework Camada de comunica\u00e7\u00e3o stateless Documenta\u00e7\u00e3o API drf-spectacular Gera\u00e7\u00e3o de esquema OpenAPI 3.0 Banco de Dados PostgreSQL 17 Persist\u00eancia de dados relacional Cache &amp; Broker Redis Cache de m\u00e9tricas e tarefas Celery Async Tasks Celery &amp; Beat Processamento de relat\u00f3rios e agendamentos Interface HTML/Vanilla CSS Frontend responsivo servido pelo Django Monitoramento Sentry SDK Rastreamento de erros e performance"},{"location":"#estrutura-modular","title":"\ud83d\udcc2 Estrutura Modular","text":"<p>O projeto \u00e9 dividido em aplica\u00e7\u00f5es Django independentes (apps), permitindo uma manuten\u00e7\u00e3o isolada:</p> <ul> <li>Core Apps: <code>products</code>, <code>brands</code>, <code>categories</code>, <code>product_models</code>.</li> <li>Movimenta\u00e7\u00e3o: <code>inflows</code> (entradas), <code>outflows</code> (sa\u00eddas).</li> <li>Servi\u00e7os: <code>notifications</code> (rastreio de tarefas), <code>authentication</code> (JWT).</li> <li>Infra: <code>nginx</code> (proxy), <code>docker</code> (conteineriza\u00e7\u00e3o).</li> </ul>"},{"location":"#explorar-funcionalidades-guia-de-arquitetura-comecar-desenvolvimento-casos-de-uso","title":"Explorar Funcionalidades | Guia de Arquitetura | Come\u00e7ar Desenvolvimento | Casos de Uso","text":""},{"location":"api/","title":"Refer\u00eancia de API","text":"<p>Esta p\u00e1gina documenta todos os endpoints REST da API, incluindo autentica\u00e7\u00e3o, permiss\u00f5es e exemplos de request/response.</p>"},{"location":"api/#base-url","title":"\ud83c\udf10 Base URL","text":"<ul> <li>Desenvolvimento: <code>http://localhost:8000/api/v1/</code></li> <li>Produ\u00e7\u00e3o: <code>https://yourdomain.com/api/v1/</code></li> </ul>"},{"location":"api/#documentacao-interativa","title":"\ud83d\udcda Documenta\u00e7\u00e3o Interativa","text":"<p>| Ferramenta | URL | Descri\u00e7\u00e3o | | Swagger UI | <code>/api/v1/docs/</code> | Interface interativa para testar endpoints | | ReDoc | <code>/api/v1/redoc/</code> | Documenta\u00e7\u00e3o limpa e naveg\u00e1vel | | Schema OpenAPI | <code>/api/v1/schema/</code> | Especifica\u00e7\u00e3o OpenAPI 3.0 (JSON) |</p>"},{"location":"api/#mapa-de-endpoints","title":"\ud83d\uddfa\ufe0f Mapa de Endpoints","text":"<pre><code>flowchart TD\n    API[\"/api/v1/\"]\n\n    API --&gt; Auth[Autentica\u00e7\u00e3o]\n    API --&gt; Resources[Recursos]\n\n    Auth --&gt; Login[\"/token/ (POST)\"]\n    Auth --&gt; Refresh[\"/token/refresh/ (POST)\"]\n    Auth --&gt; Verify[\"/token/verify/ (POST)\"]\n    Auth --&gt; Logout[\"/auth/logout/ (POST)\"]\n\n    Resources --&gt; Brands[\"/brands/\"]\n    Resources --&gt; Categories[\"/categories/\"]\n    Resources --&gt; Suppliers[\"/suppliers/\"]\n    Resources --&gt; Models[\"/product-models/\"]\n    Resources --&gt; Products[\"/products/\"]\n    Resources --&gt; Inflows[\"/inflows/\"]\n    Resources --&gt; Outflows[\"/outflows/\"]\n\n    Products --&gt; Export[\"/products/export/ (POST)\"]\n    Inflows --&gt; ImportIn[\"/inflows/import/ (POST)\"]</code></pre>"},{"location":"api/#autenticacao-jwt","title":"\ud83d\udd10 Autentica\u00e7\u00e3o JWT","text":""},{"location":"api/#1-obter-token-login","title":"1. Obter Token (Login)","text":"<p>Endpoint: <code>POST /api/v1/token/</code></p> <pre><code>// Request\n{\n  \"username\": \"admin\",\n  \"password\": \"senha123\"\n}\n\n// Response\n{\n  \"refresh\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6...\",\n  \"access\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6...\"\n}\n</code></pre>"},{"location":"api/#2-usar-token","title":"2. Usar Token","text":"<p>Adicione o token em todas as requisi\u00e7\u00f5es:</p> <pre><code>GET /api/v1/products/\nAuthorization: Bearer &lt;access_token&gt;\n</code></pre>"},{"location":"api/#3-refresh-token","title":"3. Refresh Token","text":"<p>Endpoint: <code>POST /api/v1/token/refresh/</code></p> <pre><code>// Request\n{\n  \"refresh\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6...\"\n}\n\n// Response\n{\n  \"access\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6...\"\n}\n</code></pre>"},{"location":"api/#4-logout-blacklist","title":"4. Logout (Blacklist)","text":"<p>Endpoint: <code>POST /api/v1/auth/logout/</code></p> <pre><code>// Request\n{\n  \"refresh\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6...\"\n}\n\n// Response\n{\n  \"detail\": \"Token adicionado \u00e0 blacklist com sucesso.\"\n}\n</code></pre>"},{"location":"api/#recursos-principais","title":"\ud83d\udccb Recursos Principais","text":""},{"location":"api/#products-produtos","title":"Products (Produtos)","text":"<p>| M\u00e9todo | Endpoint | A\u00e7\u00e3o | Permiss\u00e3o | | GET | <code>/products/</code> | Listar produtos | Autenticado | | POST | <code>/products/</code> | Criar produto | IsStaff | | GET | <code>/products/{id}/</code> | Detalhar produto | Autenticado | | PUT/PATCH | <code>/products/{id}/</code> | Atualizar produto | IsStaff | | DELETE | <code>/products/{id}/</code> | Deletar produto | IsAdmin | | POST | <code>/products/export/</code> | Exportar dados | Autenticado |</p>"},{"location":"api/#exemplo-listar-produtos","title":"Exemplo: Listar Produtos","text":"<pre><code>GET /api/v1/products/?page=1&amp;page_size=10\n\n// Response\n{\n  \"count\": 50,\n  \"next\": \"http://localhost:8000/api/v1/products/?page=2\",\n  \"previous\": null,\n  \"results\": [\n    {\n      \"id\": 1,\n      \"title\": \"Notebook Dell Inspiron\",\n      \"serial_number\": \"SN-00001\",\n      \"cost_price\": \"2500.00\",\n      \"sell_price\": \"3200.00\",\n      \"quantity\": 15,\n      \"product_model\": {\n        \"id\": 1,\n        \"name\": \"Inspiron 15 3000\"\n      },\n      \"category\": {\n        \"id\": 1,\n        \"name\": \"Eletr\u00f4nicos\"\n      }\n    }\n  ]\n}\n</code></pre>"},{"location":"api/#exemplo-exportar-produtos","title":"Exemplo: Exportar Produtos","text":"<pre><code>POST /api/v1/products/export/\nContent-Type: application/json\n\n{\n  \"file_format\": \"csv\"  // csv, json, xml, pdf\n}\n\n// Response (202 Accepted)\n{\n  \"message\": \"Export iniciado\",\n  \"task_id\": \"abc123-def456\",\n  \"notification_id\": 42\n}\n</code></pre>"},{"location":"api/#inflows-entradas","title":"Inflows (Entradas)","text":"<p>| M\u00e9todo | Endpoint | A\u00e7\u00e3o | Permiss\u00e3o | | GET | <code>/inflows/</code> | Listar entradas | Autenticado | | POST | <code>/inflows/</code> | Registrar entrada | IsStaff | | GET | <code>/inflows/{id}/</code> | Detalhar entrada | Autenticado | | POST | <code>/inflows/import/</code> | Importar dados CSV | IsStaff |</p>"},{"location":"api/#exemplo-registrar-entrada","title":"Exemplo: Registrar Entrada","text":"<pre><code>POST /api/v1/inflows/\nContent-Type: application/json\n\n{\n  \"supplier\": 5,\n  \"product\": 10,\n  \"quantity\": 50,\n  \"description\": \"NF 12345/2025\"\n}\n\n// Response (201 Created)\n{\n  \"id\": 123,\n  \"supplier\": {\n    \"id\": 5,\n    \"name\": \"FornecedorX\"\n  },\n  \"product\": {\n    \"id\": 10,\n    \"title\": \"Mouse Gamer\",\n    \"quantity\": 100  // Atualizado automaticamente\n  },\n  \"quantity\": 50,\n  \"description\": \"NF 12345/2025\",\n  \"created_at\": \"2026-01-28T22:00:00Z\"\n}\n</code></pre>"},{"location":"api/#codigos-de-status-http","title":"\u26a0\ufe0f C\u00f3digos de Status HTTP","text":"<p>| C\u00f3digo | Significado | Quando Ocorre | | 200 | OK | Requisi\u00e7\u00e3o bem-sucedida | | 201 | Created | Recurso criado com sucesso | | 202 | Accepted | Tarefa ass\u00edncrona iniciada | | 400 | Bad Request | Dados inv\u00e1lidos no request | | 401 | Unauthorized | Token ausente ou inv\u00e1lido | | 403 | Forbidden | Usu\u00e1rio sem permiss\u00e3o | | 404 | Not Found | Recurso n\u00e3o encontrado | | 500 | Server Error | Erro interno do servidor |</p>"},{"location":"api/#permissoes-por-endpoint","title":"\ud83d\udd12 Permiss\u00f5es por Endpoint","text":"<pre><code>flowchart TD\n    Request[Request] --&gt; Auth{Autenticado?}\n    Auth --&gt;|N\u00e3o| Error401[401 Unauthorized]\n    Auth --&gt;|Sim| CheckPerm{Permiss\u00e3o OK?}\n    CheckPerm --&gt;|N\u00e3o| Error403[403 Forbidden]\n    CheckPerm --&gt;|Sim| Process[Processar Request]\n    Process --&gt; Response[200/201/202]</code></pre>"},{"location":"api/#niveis-de-acesso","title":"N\u00edveis de Acesso","text":"<ol> <li>AllowAny: Sem autentica\u00e7\u00e3o (apenas <code>/token/</code>)</li> <li>IsAuthenticated: Qualquer usu\u00e1rio autenticado</li> <li>IsStaff: Usu\u00e1rios com <code>is_staff=True</code></li> <li>IsAdminUser: Usu\u00e1rios com <code>is_superuser=True</code></li> </ol>"},{"location":"api/#payload-padrao-de-erro","title":"\ud83d\udce6 Payload Padr\u00e3o de Erro","text":"<pre><code>{\n  \"detail\": \"Authentication credentials were not provided.\"\n}\n\n// Ou para erros de valida\u00e7\u00e3o:\n{\n  \"field_name\": [\n    \"Este campo \u00e9 obrigat\u00f3rio.\"\n  ]\n}\n</code></pre>"},{"location":"api/#filtros-e-busca","title":"\ud83d\udd0d Filtros e Busca","text":""},{"location":"api/#query-parameters","title":"Query Parameters","text":"<pre><code>GET /api/v1/products/?search=notebook&amp;ordering=-created_at&amp;category=1\n</code></pre> <p>| Par\u00e2metro | Tipo | Descri\u00e7\u00e3o | | <code>search</code> | String | Busca por t\u00edtulo ou serial_number | | <code>ordering</code> | String | Campo para ordena\u00e7\u00e3o (- para DESC) | | <code>category</code> | Integer | Filtrar por categoria | | <code>page</code> | Integer | N\u00famero da p\u00e1gina | | <code>page_size</code> | Integer | Itens por p\u00e1gina (max: 100) |</p>"},{"location":"api/#rate-limiting-throttling","title":"\ud83d\ude80 Rate Limiting (Throttling)","text":"<ul> <li>Usu\u00e1rio autenticado: 1000 requests/hora</li> <li>An\u00f4nimo: 100 requests/hora</li> </ul> <p>Se exceder:</p> <pre><code>{\n  \"detail\": \"Request was throttled. Expected available in 3600 seconds.\"\n}\n</code></pre>"},{"location":"architecture/","title":"Guia de Arquitetura","text":"<p>Este documento fornece um aprofundamento t\u00e9cnico sobre a infraestrutura e o fluxo de dados do sistema.</p>"},{"location":"architecture/#topologia-da-infraestrutura","title":"\ud83c\udfd7\ufe0f Topologia da Infraestrutura","text":"<p>O sistema utiliza uma arquitetura de servi\u00e7os coordenados via Docker Compose, garantindo isolamento e escalabilidade horizontal para os workers.</p> <pre><code>graph LR\n    User[Usu\u00e1rio] --&gt;|HTTPS| Nginx[\"Nginx (Proxy Reverso)\"]\n    Nginx --&gt;|Port 8000| Gunicorn[\"Gunicorn (Django)\"]\n\n    subgraph \"Core System\"\n        Gunicorn --&gt; DB[(PostgreSQL 17)]\n        Gunicorn --&gt; Redis[(Redis)]\n    end\n\n    subgraph \"Background Processing\"\n        Redis --&gt; Worker[\"Celery Worker (Tasks)\"]\n        Worker --&gt; DB\n        Beat[\"Celery Beat (Schedule)\"] --&gt; Redis\n    end\n\n    subgraph \"Observability\"\n        Gunicorn -.-&gt; Sentry[Sentry.io]\n        Worker -.-&gt; Sentry\n    end</code></pre>"},{"location":"architecture/#componentes-docker","title":"\ud83d\udc33 Componentes Docker","text":"<p>O sistema roda em containers isolados que se comunicam via rede interna.</p> <pre><code>graph TB\n    subgraph \"Host Machine\"\n        subgraph \"Docker Network: inventory_network\"\n            Nginx[\"nginx:alpine&lt;br/&gt;inventory_nginx&lt;br/&gt;Port: 80\u219280\"]\n            Web[\"python:3.13-slim&lt;br/&gt;inventory_web&lt;br/&gt;Port: 8000\"]\n            Worker[\"python:3.13-slim&lt;br/&gt;inventory_worker\"]\n            Beat[\"python:3.13-slim&lt;br/&gt;inventory_beat\"]\n            Flower[\"python:3.13-slim&lt;br/&gt;inventory_flower&lt;br/&gt;Port: 5555\"]\n            DB[\"postgres:17-alpine&lt;br/&gt;inventory_db&lt;br/&gt;Port: 5432\"]\n            Redis[\"redis:7-alpine&lt;br/&gt;inventory_redis&lt;br/&gt;Port: 6379\"]\n        end\n\n        Volumes[\"Volumes (Persistent)&lt;br/&gt;postgres_data&lt;br/&gt;redis_data&lt;br/&gt;media_volume\"]\n    end\n\n    Nginx --&gt;|Proxy Pass :8000| Web\n    Nginx --&gt;|Serve /static/| Volumes\n    Nginx --&gt;|Serve /media/| Volumes\n    Web --&gt; DB\n    Web --&gt; Redis\n    Worker --&gt; DB\n    Worker --&gt; Redis\n    Beat --&gt; Redis\n    Flower --&gt; Redis\n    DB -.-&gt;|Persists| Volumes\n    Redis -.-&gt;|Persists| Volumes\n    Web -.-&gt;|Uploads| Volumes</code></pre>"},{"location":"architecture/#health-checks","title":"Health Checks","text":"<p>Cada servi\u00e7o possui verifica\u00e7\u00f5es de sa\u00fade:</p> <pre><code># docker-compose.yml\nhealthcheck:\n  test: [\"CMD\", \"curl\", \"-f\", \"http://localhost:8000/health/\"]\n  interval: 30s\n  timeout: 10s\n  retries: 3\n  start_period: 40s\n</code></pre>"},{"location":"architecture/#modelo-de-dados-erd","title":"\ud83d\udcca Modelo de Dados (ERD)","text":"<p>A estrutura do banco de dados \u00e9 projetada para integridade referencial total.</p> <pre><code>erDiagram\n    Product ||--o{ Inflow : \"recebe\"\n    Product ||--o{ Outflow : \"emite\"\n    Brand ||--o{ ProductModel : \"possui\"\n    ProductModel ||--o{ Product : \"define\"\n    Category ||--o{ Product : \"classifica\"\n    Supplier ||--o{ Inflow : \"fornece\"\n    User ||--o{ TaskNotification : \"recebe\"\n\n    Product {\n        string title\n        string serial_number\n        decimal cost_price\n        decimal sell_price\n        int quantity\n    }\n\n    TaskNotification {\n        string task_id\n        string status\n        string task_type\n        datetime completed_at\n    }</code></pre>"},{"location":"architecture/#lifecycle-de-tarefas-assincronas","title":"\ud83d\udd04 Lifecycle de Tarefas Ass\u00edncronas","text":"<p>As tarefas de exporta\u00e7\u00e3o/importa\u00e7\u00e3o seguem um fluxo de estados gerenciado pelo Celery e rastreado no banco de dados.</p> <pre><code>stateDiagram-v2\n    [*] --&gt; Pendente: Usu\u00e1rio solicita Export\n    Pendente --&gt; Processando: Worker captura tarefa\n    Processando --&gt; Concluido: Sucesso (Arquivo gerado)\n    Processando --&gt; Falha: Erro capturado\n    Concluido --&gt; [*]\n    Falha --&gt; Pendente: Retry (opcional)\n    Falha --&gt; [*]</code></pre>"},{"location":"architecture/#componentes-de-infraestrutura","title":"\u2699\ufe0f Componentes de Infraestrutura","text":""},{"location":"architecture/#nginx-proxy-reverso","title":"Nginx (Proxy Reverso)","text":"<p>O Nginx atua como a primeira camada de defesa e otimiza\u00e7\u00e3o:</p> <ul> <li>Proxy Pass: Encaminha requisi\u00e7\u00f5es din\u00e2micas para o Gunicorn.</li> <li>Static Serving: Serve diretamente os arquivos em <code>/staticfiles/</code> sem onerar o Django.</li> <li>Media Serving: Gerencia o download de arquivos protegidos em <code>/mediafiles/</code> (como exports gerados).</li> <li>Docs Hosting: Serve esta documenta\u00e7\u00e3o est\u00e1tica (MKDocs) em <code>/docs/</code>.</li> </ul>"},{"location":"architecture/#celery-redis","title":"Celery &amp; Redis","text":"<ul> <li>Broker: O Redis armazena a fila de mensagens.</li> <li>Worker: Processa tarefas <code>shared_task</code> (exports, imports).</li> <li>Beat: Um agendador que dispara tarefas peri\u00f3dicas (ex: <code>update_dashboard_metrics_cache</code> a cada 5 minutos).</li> <li>Result Backend: Utilizamos <code>django-db</code> para persistir o hist\u00f3rico de resultados das tarefas, permitindo que o usu\u00e1rio veja o status em \"Notifica\u00e7\u00f5es\".</li> </ul>"},{"location":"architecture/#monitoramento-com-sentry","title":"Monitoramento com Sentry","text":"<p>Configurado em <code>app/settings.py</code>, o Sentry captura:</p> <ul> <li>Exce\u00e7\u00f5es n\u00e3o tratadas (500 errors).</li> <li>Gargalos de performance em queries SQL.</li> <li>Erros em tarefas ass\u00edncronas do Celery.</li> </ul>"},{"location":"architecture/#camadas-de-seguranca","title":"\ud83d\udd10 Camadas de Seguran\u00e7a","text":"<pre><code>flowchart TD\n    A[Internet] --&gt; B{Nginx}\n    B --&gt;|CORS Check| C[Django Security Middleware]\n    C --&gt; D{Authentication}\n    D --&gt;|JWT Valid?| E[DRF Permissions]\n    D --&gt;|Invalid| F[401 Unauthorized]\n    E --&gt;|IsAdmin/IsStaff| G[Admin Dashboard]\n    E --&gt;|Model Permissions| H[API Resource]</code></pre>"},{"location":"architecture/#fluxo-de-autenticacao-jwt","title":"Fluxo de Autentica\u00e7\u00e3o (JWT)","text":"<p>O sistema utiliza <code>rest_framework_simplejwt</code>:</p> <ol> <li>Login: O cliente envia credenciais e recebe <code>access</code> e <code>refresh</code> tokens.</li> <li>Access Token: Curta dura\u00e7\u00e3o (30 min), enviado no header <code>Authorization: Bearer &lt;token&gt;</code>.</li> <li>Refresh Token: Longa dura\u00e7\u00e3o (7 dias), usado para obter um novo <code>access</code> sem re-autenticar.</li> <li>Blacklist: Ao deslogar (logout), o token \u00e9 colocado em uma blacklist no banco de dados.</li> </ol> <pre><code>sequenceDiagram\n    participant Cliente\n    participant API as API (Django)\n    participant DB as Banco de Dados\n\n    Cliente-&gt;&gt;API: POST /token/ (username, password)\n    API-&gt;&gt;DB: Verifica credenciais\n    alt Credenciais V\u00e1lidas\n        DB--&gt;&gt;API: Usu\u00e1rio encontrado\n        API--&gt;&gt;Cliente: Retorna Access + Refresh Tokens\n    else Credenciais Inv\u00e1lidas\n        API--&gt;&gt;Cliente: 401 Unauthorized\n    end\n\n    Note over Cliente, API: Uso do token em requisi\u00e7\u00f5es\n    Cliente-&gt;&gt;API: GET /products/ (Header: Bearer &lt;access_token&gt;)\n    API-&gt;&gt;API: Valida assinatura do token\n    alt Token V\u00e1lido\n        API--&gt;&gt;Cliente: 200 OK (Dados dos produtos)\n    else Token Expirado/Inv\u00e1lido\n        API--&gt;&gt;Cliente: 401 Unauthorized\n    end</code></pre>"},{"location":"architecture/#estrategia-de-caching","title":"\ud83d\udcca Estrat\u00e9gia de Caching","text":"<p>Para garantir que o dashboard seja carregado em milissegundos, utilizamos cache agressivo no Redis:</p> <ul> <li>M\u00e9tricas Globais: Armazenadas como chaves JSON <code>metrics:product</code>, <code>metrics:sales</code>, etc.</li> <li>Invalida\u00e7\u00e3o: O cache \u00e9 renovado pelo Celery Beat ou via signals em altera\u00e7\u00f5es cr\u00edticas.</li> </ul>"},{"location":"async-tasks/","title":"Tarefas Ass\u00edncronas (Celery)","text":"<p>Esta p\u00e1gina documenta o sistema de processamento em background usando Celery, incluindo todas as tasks, fluxos e estrat\u00e9gias de retry.</p>"},{"location":"async-tasks/#visao-geral-das-tasks","title":"\ud83d\udcca Vis\u00e3o Geral das Tasks","text":"<p>O sistema possui 3 tasks principais rodando via Celery:</p> <p>| Task | Tipo | Trigger | Descri\u00e7\u00e3o | | <code>export_data_async</code> | On-demand | API Call | Exporta\u00e7\u00e3o de dados para CSV/PDF/JSON/XML | | <code>import_data_async</code> | On-demand | API Call | Importa\u00e7\u00e3o de dados via arquivo CSV | | <code>update_dashboard_metrics_cache</code> | Peri\u00f3dica | Celery Beat (5min) | Atualiza\u00e7\u00e3o de cache de m\u00e9tricas |</p>"},{"location":"async-tasks/#task-1-export-data-assincrono","title":"\ud83d\udd04 Task 1: Export Data (Ass\u00edncrono)","text":"<p>Nome: <code>app.tasks.export_data_async</code> Prop\u00f3sito: Gerar relat\u00f3rios pesados sem travar a interface do usu\u00e1rio.</p>"},{"location":"async-tasks/#fluxo-de-execucao","title":"Fluxo de Execu\u00e7\u00e3o","text":"<pre><code>flowchart TD\n    Start([Usu\u00e1rio solicita export]) --&gt; Create[Criar TaskNotification status=pending]\n    Create --&gt; Dispatch[Disparar Celery Task]\n    Dispatch --&gt; Return[Retornar 202 + Task ID]\n\n    Return -.-&gt; Worker[Celery Worker captura task]\n    Worker --&gt; UpdateProcessing[Atualizar status=processing]\n    UpdateProcessing --&gt; LoadData[Carregar dados do modelo via ORM]\n\n    LoadData --&gt; CheckFormat{Formato?}\n    CheckFormat --&gt;|CSV| GenCSV[Gerar CSV com Pandas]\n    CheckFormat --&gt;|JSON| GenJSON[Serializar para JSON]\n    CheckFormat --&gt;|XML| GenXML[Converter para XML]\n    CheckFormat --&gt;|PDF| GenPDF[Render HTML + WeasyPrint]\n\n    GenCSV --&gt; Save[Salvar arquivo em media/]\n    GenJSON --&gt; Save\n    GenXML --&gt; Save\n    GenPDF --&gt; Save\n\n    Save --&gt; UpdateCompleted[Atualizar status=completed]\n    UpdateCompleted --&gt; Notify[Usu\u00e1rio verifica notifica\u00e7\u00f5es]\n    Notify --&gt; Download[Download liberado]\n\n    LoadData -.-&gt;|Erro| Failed[Atualizar status=failed]\n    Failed --&gt; LogError[Salvar error_message]</code></pre>"},{"location":"async-tasks/#parametros-de-entrada","title":"Par\u00e2metros de Entrada","text":"<ul> <li><code>notification_id</code>: ID da notifica\u00e7\u00e3o criada previamente</li> <li>Se <code>None</code>, busca pelo <code>task_id</code> do Celery</li> </ul>"},{"location":"async-tasks/#formatos-suportados","title":"Formatos Suportados","text":"<pre><code># CSV: DataFrame exportado via Pandas\nqueryset \u2192 DataFrame \u2192 CSV\n\n# JSON: Serializa\u00e7\u00e3o nativa do Django\nqueryset \u2192 model_to_dict \u2192 JSON\n\n# XML: Convers\u00e3o manual\nqueryset \u2192 dict \u2192 XML string\n\n# PDF: Template HTML renderizado\nqueryset \u2192 Template \u2192 HTML \u2192 WeasyPrint \u2192 PDF\n</code></pre>"},{"location":"async-tasks/#tratamento-de-erros","title":"Tratamento de Erros","text":"<pre><code>stateDiagram-v2\n    [*] --&gt; Pending: Task criada\n    Pending --&gt; Processing: Worker inicia\n    Processing --&gt; Completed: Sucesso\n    Processing --&gt; Failed: Exce\u00e7\u00e3o capturada\n    Failed --&gt; [*]: Erro salvo em error_message\n    Completed --&gt; [*]: Arquivo dispon\u00edvel</code></pre>"},{"location":"async-tasks/#task-2-import-data-assincrono","title":"\ud83d\udce5 Task 2: Import Data (Ass\u00edncrono)","text":"<p>Nome: <code>app.tasks.import_data_async</code> Prop\u00f3sito: Processar grandes volumes de dados sem bloquear a aplica\u00e7\u00e3o.</p>"},{"location":"async-tasks/#fluxo-de-execucao_1","title":"Fluxo de Execu\u00e7\u00e3o","text":"<pre><code>sequenceDiagram\n    participant User\n    participant API\n    participant Celery\n    participant DB\n    participant File as CSV File\n\n    User-&gt;&gt;API: POST /import/ (Upload CSV)\n    API-&gt;&gt;DB: Criar TaskNotification\n    API-&gt;&gt;Celery: Despachar import_data_async\n    API--&gt;&gt;User: 202 Accepted (Task ID)\n\n    Celery-&gt;&gt;File: Abrir e ler CSV\n    loop Para cada linha do CSV\n        Celery-&gt;&gt;DB: Validar dados\n        Celery-&gt;&gt;DB: .save() individual (triggers signals)\n    end\n\n    Celery-&gt;&gt;DB: Atualizar record_count\n    Celery-&gt;&gt;DB: status = completed\n    Celery--&gt;&gt;User: Notifica\u00e7\u00e3o dispon\u00edvel</code></pre>"},{"location":"async-tasks/#validacoes-e-mapeamento","title":"Valida\u00e7\u00f5es e Mapeamento","text":"<p>O sistema utiliza o <code>DataImportService</code> que:</p> <ol> <li>L\u00ea o CSV usando <code>pandas.read_csv()</code></li> <li>Converte campos conforme o mapeamento do modelo</li> <li>Chama <code>.save()</code> individual (n\u00e3o bulk) para disparar signals</li> <li>Registra erros linha a linha</li> </ol>"},{"location":"async-tasks/#por-que-save-individual","title":"Por que <code>.save()</code> individual?","text":"<pre><code># \u274c ERRADO: bulk_create ignora signals\nProduct.objects.bulk_create([...])\n\n# \u2705 CORRETO: save() individual dispara signals de estoque\nfor row in data:\n    product.save()  # Atualiza quantity via signal\n</code></pre>"},{"location":"async-tasks/#task-3-dashboard-metrics-cache","title":"\ud83d\udcca Task 3: Dashboard Metrics Cache","text":"<p>Nome: <code>app.tasks.update_dashboard_metrics_cache</code> Prop\u00f3sito: Pr\u00e9-calcular m\u00e9tricas pesadas a cada 5 minutos.</p>"},{"location":"async-tasks/#metricas-atualizadas","title":"M\u00e9tricas Atualizadas","text":"<p>| Chave Redis | Fun\u00e7\u00e3o | Descri\u00e7\u00e3o | | <code>metrics:product</code> | <code>get_product_metrics_raw()</code> | Total produtos, valor em estoque | | <code>metrics:sales</code> | <code>get_sales_metrics_raw()</code> | Vendas totais, faturamento | | <code>metrics:daily_sales</code> | <code>get_daily_sales_data_raw()</code> | Vendas por dia (\u00faltimos 30 dias) | | <code>metrics:daily_sales_quantity</code> | <code>get_daily_sales_quantity_data_raw()</code> | Quantidade vendida por dia | | <code>metrics:products_by_category</code> | <code>get_products_by_category_raw()</code> | Distribui\u00e7\u00e3o por categoria | | <code>metrics:products_by_brand</code> | <code>get_products_by_brand_raw()</code> | Distribui\u00e7\u00e3o por marca |</p>"},{"location":"async-tasks/#configuracao-celery-beat","title":"Configura\u00e7\u00e3o Celery Beat","text":"<pre><code># app/celery.py\napp.conf.beat_schedule = {\n    'update-dashboard-metrics': {\n        'task': 'app.tasks.update_dashboard_metrics_cache',\n        'schedule': crontab(minute='*/5'),  # A cada 5 minutos\n    },\n}\n</code></pre>"},{"location":"async-tasks/#cache-ttl-time-to-live","title":"Cache TTL (Time To Live)","text":"<pre><code>cache_ttl = 60 * 10  # 10 minutos\n# 2x o intervalo do beat para evitar cache miss\n</code></pre>"},{"location":"async-tasks/#configuracao-e-retry-strategy","title":"\u2699\ufe0f Configura\u00e7\u00e3o e Retry Strategy","text":""},{"location":"async-tasks/#retry-automatico","title":"Retry Autom\u00e1tico","text":"<p>Todas as tasks usam o retry padr\u00e3o do Celery:</p> <pre><code>@shared_task(bind=True, max_retries=3, default_retry_delay=60)\ndef export_data_async(self, notification_id):\n    try:\n        # ...\n    except Exception as exc:\n        raise self.retry(exc=exc)\n</code></pre>"},{"location":"async-tasks/#monitoramento-com-flower","title":"Monitoramento com Flower","text":"<ul> <li>URL: <code>http://localhost:5555</code> (dev) ou porta configurada</li> <li>Dashboard: Visualiza\u00e7\u00e3o de tasks ativas, failed, succeeded</li> <li>Logs: Traceback de erros em tempo real</li> </ul>"},{"location":"async-tasks/#debugging-e-logs","title":"\ud83d\udd0d Debugging e Logs","text":""},{"location":"async-tasks/#ver-logs-do-worker","title":"Ver logs do Worker","text":"<pre><code># Dev\ndocker-compose logs -f inventory_worker\n\n# Prod\ndocker-compose -f docker-compose.prod.yml logs -f inventory_worker\n</code></pre>"},{"location":"async-tasks/#verificar-status-de-uma-task","title":"Verificar status de uma task","text":"<pre><code>from celery.result import AsyncResult\nresult = AsyncResult(task_id)\nprint(result.state)  # PENDING, STARTED, SUCCESS, FAILURE\n</code></pre>"},{"location":"async-tasks/#limpar-tarefas-antigas","title":"Limpar tarefas antigas","text":"<pre><code># Shell Django\npython manage.py shell\n&gt;&gt;&gt; from notifications.models import TaskNotification\n&gt;&gt;&gt; TaskNotification.objects.filter(status='completed', is_read=True).delete()\n</code></pre>"},{"location":"configuration/","title":"Configura\u00e7\u00e3o do Sistema","text":"<p>Esta p\u00e1gina documenta todas as vari\u00e1veis de ambiente, configura\u00e7\u00f5es de seguran\u00e7a e diferen\u00e7as entre ambientes de desenvolvimento e produ\u00e7\u00e3o.</p>"},{"location":"configuration/#variaveis-de-ambiente","title":"\ud83d\udd27 Vari\u00e1veis de Ambiente","text":""},{"location":"configuration/#arquivo-env","title":"Arquivo <code>.env</code>","text":"<p>O sistema utiliza um arquivo <code>.env</code> na raiz do projeto para configura\u00e7\u00f5es sens\u00edveis. Use <code>.env.example</code> como template.</p> <pre><code># Copiar template\ncp .env.example .env\n</code></pre>"},{"location":"configuration/#tabela-completa-de-variaveis","title":"Tabela Completa de Vari\u00e1veis","text":"Vari\u00e1vel Tipo Obrigat\u00f3ria Padr\u00e3o (Dev) Descri\u00e7\u00e3o Django Core <code>DEBUG</code> Boolean \u2705 <code>True</code> Ativa modo de debug (\u26a0\ufe0f <code>False</code> em prod) <code>SECRET_KEY</code> String \u2705 - Chave de criptografia Django <code>SIGNING_KEY</code> String \u2705 - Chave de assinatura JWT <code>ALLOWED_HOSTS</code> String (CSV) \u2705 <code>localhost,127.0.0.1</code> Hosts permitidos Database <code>POSTGRES_DB</code> String \u2705 <code>inventory_db</code> Nome do banco <code>POSTGRES_USER</code> String \u2705 <code>inventory_user</code> Usu\u00e1rio PostgreSQL <code>POSTGRES_PASSWORD</code> String \u2705 - Senha do banco <code>POSTGRES_HOST</code> String \u2705 <code>inventory_db</code> Host do PostgreSQL <code>POSTGRES_PORT</code> Integer \u2705 <code>5432</code> Porta do PostgreSQL Redis <code>REDIS_HOST</code> String \u2705 <code>inventory_redis</code> Host do Redis <code>REDIS_PORT</code> Integer \u2705 <code>6379</code> Porta do Redis <code>REDIS_DB</code> Integer \u274c <code>0</code> \u00cdndice do banco Redis Celery <code>CELERY_BROKER_URL</code> String \u2705 <code>redis://inventory_redis:6379/0</code> URL do broker <code>CELERY_RESULT_BACKEND</code> String \u274c <code>django-db</code> Backend de resultados Sentry <code>SENTRY_DSN</code> String \u274c - DSN do Sentry (monitoramento) <code>SENTRY_ENVIRONMENT</code> String \u274c <code>development</code> Ambiente (<code>dev</code>, <code>prod</code>) CORS <code>CORS_ALLOWED_ORIGINS</code> String (CSV) \u274c <code>http://localhost:3000</code> Origins permitidas"},{"location":"configuration/#seguranca-geracao-de-chaves","title":"\ud83d\udd10 Seguran\u00e7a: Gera\u00e7\u00e3o de Chaves","text":""},{"location":"configuration/#secret_key","title":"SECRET_KEY","text":"<pre><code># Gerar nova chave Django\npython -c \"from django.core.management.utils import get_random_secret_key; print(get_random_secret_key())\"\n</code></pre>"},{"location":"configuration/#signing_key-jwt","title":"SIGNING_KEY (JWT)","text":"<pre><code># Gerar chave forte para JWT\npython -c \"import secrets; print(secrets.token_urlsafe(64))\"\n</code></pre> <p>IMPORTANTE: Use chaves diferentes para <code>SECRET_KEY</code> e <code>SIGNING_KEY</code>.</p>"},{"location":"configuration/#ambientes-dev-vs-prod","title":"\ud83c\udf0d Ambientes: Dev vs Prod","text":""},{"location":"configuration/#desenvolvimento-docker-composeyml","title":"Desenvolvimento (docker-compose.yml)","text":"<pre><code>services:\n  inventory_web:\n    environment:\n      - DEBUG=True\n      - ALLOWED_HOSTS=localhost,127.0.0.1\n      - SENTRY_ENVIRONMENT=development\n    command: python manage.py runserver 0.0.0.0:8000\n</code></pre> <p>Caracter\u00edsticas: - Hot reload (c\u00f3digo atualiza automaticamente) - Debug toolbar ativado - Logs verbosos no console - SQLite para testes (via pytest)</p>"},{"location":"configuration/#producao-docker-composeprodyml","title":"Produ\u00e7\u00e3o (docker-compose.prod.yml)","text":"<pre><code>services:\n  inventory_web:\n    environment:\n      - DEBUG=False\n      - ALLOWED_HOSTS=yourdomain.com,www.yourdomain.com\n      - SENTRY_ENVIRONMENT=production\n    command: gunicorn app.wsgi:application --bind 0.0.0.0:8000\n</code></pre> <p>Caracter\u00edsticas: - <code>DEBUG=False</code> (obrigat\u00f3rio) - Gunicorn com m\u00faltiplos workers - Logs enviados para Sentry - HTTPS obrigat\u00f3rio (Nginx)</p>"},{"location":"configuration/#configuracao-de-cache-redis","title":"\ud83d\udcca Configura\u00e7\u00e3o de Cache (Redis)","text":"<pre><code># settings.py\nCACHES = {\n    'default': {\n        'BACKEND': 'django.core.cache.backends.redis.RedisCache',\n        'LOCATION': f'redis://{REDIS_HOST}:{REDIS_PORT}/1',\n        'OPTIONS': {\n            'CLIENT_CLASS': 'django_redis.client.DefaultClient',\n        },\n        'KEY_PREFIX': 'inventory',\n        'TIMEOUT': 300,  # 5 minutos padr\u00e3o\n    }\n}\n</code></pre>"},{"location":"configuration/#uso-no-codigo","title":"Uso no c\u00f3digo","text":"<pre><code>from django.core.cache import cache\n\n# Salvar\ncache.set('metrics:product', data, timeout=600)\n\n# Ler\ndata = cache.get('metrics:product')\n</code></pre>"},{"location":"configuration/#configuracao-de-cors","title":"\ud83d\udd12 Configura\u00e7\u00e3o de CORS","text":"<p>Para permitir que frontends externos acessem a API:</p> <pre><code># .env\nCORS_ALLOWED_ORIGINS=http://localhost:3000,https://app.seudominio.com\n\n# settings.py (j\u00e1 configurado)\nCORS_ALLOWED_ORIGINS = os.getenv('CORS_ALLOWED_ORIGINS', '').split(',')\n</code></pre>"},{"location":"configuration/#configuracao-de-email-futuro","title":"\ud83d\udce7 Configura\u00e7\u00e3o de Email (Futuro)","text":"<pre><code># Para notifica\u00e7\u00f5es por email\nEMAIL_BACKEND = 'django.core.mail.backends.smtp.EmailBackend'\nEMAIL_HOST = os.getenv('EMAIL_HOST', 'smtp.gmail.com')\nEMAIL_PORT = int(os.getenv('EMAIL_PORT', 587))\nEMAIL_USE_TLS = True\nEMAIL_HOST_USER = os.getenv('EMAIL_USER')\nEMAIL_HOST_PASSWORD = os.getenv('EMAIL_PASSWORD')\n</code></pre>"},{"location":"configuration/#checklist-de-seguranca-para-producao","title":"\ud83d\udee1\ufe0f Checklist de Seguran\u00e7a para Produ\u00e7\u00e3o","text":"<ul> <li> <code>DEBUG = False</code></li> <li> <code>ALLOWED_HOSTS</code> configurado com dom\u00ednio real</li> <li> <code>SECRET_KEY</code> \u00fanica e complexa (m\u00ednimo 50 caracteres)</li> <li> <code>SIGNING_KEY</code> diferente de <code>SECRET_KEY</code></li> <li> Senha do PostgreSQL forte (m\u00ednimo 16 caracteres)</li> <li> Sentry DSN configurado para monitoramento</li> <li> HTTPS configurado no Nginx</li> <li> Firewall bloqueando portas 5432, 6379 (apenas Docker interno)</li> <li> Backup autom\u00e1tico do volume <code>postgres_data_prod</code></li> <li> Logs rotacionados (configurado no <code>docker-compose.prod.yml</code>)</li> </ul>"},{"location":"configuration/#volumes-docker-persistentes","title":"\ud83d\udc33 Volumes Docker Persistentes","text":""},{"location":"configuration/#desenvolvimento","title":"Desenvolvimento","text":"<pre><code>volumes:\n  postgres_data:  # Dados do banco\n  redis_data:     # Dados do Redis\n  media_volume:   # Arquivos de upload (exports)\n</code></pre>"},{"location":"configuration/#producao","title":"Produ\u00e7\u00e3o","text":"<pre><code>volumes:\n  postgres_data_prod:  # \u26a0\ufe0f Fazer backup di\u00e1rio\n  redis_data_prod:\n  media_volume_prod:   # Relat\u00f3rios gerados\n</code></pre>"},{"location":"configuration/#debugging-de-configuracao","title":"\ud83d\udd0d Debugging de Configura\u00e7\u00e3o","text":""},{"location":"configuration/#verificar-variaveis-carregadas","title":"Verificar vari\u00e1veis carregadas","text":"<pre><code># Dentro do container\ndocker exec -it inventory_web bash\npython manage.py shell\n\n&gt;&gt;&gt; from django.conf import settings\n&gt;&gt;&gt; print(settings.DEBUG)\n&gt;&gt;&gt; print(settings.DATABASES)\n</code></pre>"},{"location":"configuration/#testar-conexao-com-postgresql","title":"Testar conex\u00e3o com PostgreSQL","text":"<pre><code>docker exec -it inventory_db psql -U inventory_user -d inventory_db -c 'SELECT 1;'\n</code></pre>"},{"location":"configuration/#testar-conexao-com-redis","title":"Testar conex\u00e3o com Redis","text":"<pre><code>docker exec -it inventory_redis redis-cli ping\n# Resposta: PONG\n</code></pre>"},{"location":"contributing/","title":"Guia de Contribui\u00e7\u00e3o","text":"<p>Obrigado pelo interesse em contribuir com o Sistema de Gest\u00e3o de Estoque!</p>"},{"location":"contributing/#como-contribuir","title":"Como Contribuir","text":"<ol> <li>Fa\u00e7a um Fork do projeto.</li> <li>Crie uma branch para sua feature (<code>git checkout -b feature/minha-feature</code>).</li> <li>Commit suas mudan\u00e7as (<code>git commit -m 'Adiciona minha feature'</code>).</li> <li>Push para a branch (<code>git push origin feature/minha-feature</code>).</li> <li>Abra um Pull Request.</li> </ol>"},{"location":"contributing/#padroes-de-codigo","title":"Padr\u00f5es de C\u00f3digo","text":"<p>Seguimos as diretrizes da PEP 8 e utilizamos as seguintes ferramentas:</p> <ul> <li>Ruff: Para linting e formata\u00e7\u00e3o.</li> <li>MyPy: Para checagem de tipos est\u00e1tica.</li> <li>Pytest: Para testes automatizados.</li> </ul>"},{"location":"data-model/","title":"Modelo de Dados","text":"<p>Esta p\u00e1gina documenta a estrutura completa do banco de dados, incluindo todos os modelos, relacionamentos e constraints.</p>"},{"location":"data-model/#diagrama-entidade-relacionamento-completo","title":"\ud83d\uddfa\ufe0f Diagrama Entidade-Relacionamento Completo","text":"<pre><code>erDiagram\n    Brand ||--o{ ProductModel : \"possui\"\n    ProductModel ||--o{ Product : \"define\"\n    Category ||--o{ Product : \"classifica\"\n    Product ||--o{ Inflow : \"recebe\"\n    Product ||--o{ Outflow : \"emite\"\n    Supplier ||--o{ Inflow : \"fornece\"\n    User ||--o{ TaskNotification : \"possui\"\n\n    Brand {\n        int id PK\n        string name UK\n        text description\n        datetime created_at\n        datetime updated_at\n    }\n\n    Category {\n        int id PK\n        string name UK\n        text description\n        datetime created_at\n        datetime updated_at\n    }\n\n    Supplier {\n        int id PK\n        string name UK\n        text description\n        datetime created_at\n        datetime updated_at\n    }\n\n    ProductModel {\n        int id PK\n        string name\n        int brand_id FK\n        text description\n        datetime created_at\n        datetime updated_at\n    }\n\n    Product {\n        int id PK\n        string title\n        int product_model_id FK\n        int category_id FK\n        text description\n        string serial_number UK\n        decimal cost_price\n        decimal sell_price\n        int quantity\n        datetime created_at\n        datetime updated_at\n    }\n\n    Inflow {\n        int id PK\n        int supplier_id FK\n        int product_id FK\n        int quantity\n        text description\n        datetime created_at\n        datetime updated_at\n    }\n\n    Outflow {\n        int id PK\n        int product_id FK\n        int quantity\n        text description\n        datetime created_at\n        datetime updated_at\n    }\n\n    TaskNotification {\n        int id PK\n        int user_id FK\n        string task_type\n        string task_id UK\n        string status\n        string model_name\n        string file_format\n        file file_path\n        int record_count\n        text error_message\n        boolean is_read\n        datetime created_at\n        datetime updated_at\n        datetime completed_at\n    }</code></pre>"},{"location":"data-model/#documentacao-detalhada-dos-modelos","title":"\ud83d\udccb Documenta\u00e7\u00e3o Detalhada dos Modelos","text":""},{"location":"data-model/#brand-marca","title":"Brand (Marca)","text":"<p>App: <code>brands</code> Prop\u00f3sito: Armazena fabricantes ou marcas pr\u00f3prias de produtos.</p> <p>| Campo | Tipo | Constraints | Descri\u00e7\u00e3o | | <code>id</code> | Integer | PK, Auto | Identificador \u00fanico | | <code>name</code> | Char(100) | NOT NULL | Nome da marca | | <code>description</code> | Text | Nullable | Descri\u00e7\u00e3o adicional | | <code>created_at</code> | DateTime | Auto | Data de cria\u00e7\u00e3o | | <code>updated_at</code> | DateTime | Auto | \u00daltima atualiza\u00e7\u00e3o |</p> <p>Meta:</p> <ul> <li>Ordena\u00e7\u00e3o: <code>name</code> (alfab\u00e9tico)</li> <li>\u00cdndices: Padr\u00e3o no PK</li> </ul>"},{"location":"data-model/#category-categoria","title":"Category (Categoria)","text":"<p>App: <code>categories</code> Prop\u00f3sito: Classifica\u00e7\u00e3o l\u00f3gica de produtos (ex: Eletr\u00f4nicos, Alimentos).</p> <p>| Campo | Tipo | Constraints | Descri\u00e7\u00e3o | | <code>id</code> | Integer | PK, Auto | Identificador \u00fanico | | <code>name</code> | Char(100) | NOT NULL | Nome da categoria | | <code>description</code> | Text | Nullable | Descri\u00e7\u00e3o adicional | | <code>created_at</code> | DateTime | Auto | Data de cria\u00e7\u00e3o | | <code>updated_at</code> | DateTime | Auto | \u00daltima atualiza\u00e7\u00e3o |</p> <p>Meta:</p> <ul> <li>Ordena\u00e7\u00e3o: <code>name</code> (alfab\u00e9tico)</li> </ul>"},{"location":"data-model/#supplier-fornecedor","title":"Supplier (Fornecedor)","text":"<p>App: <code>suppliers</code> Prop\u00f3sito: Cadastro de fornecedores de mercadorias.</p> <p>| Campo | Tipo | Constraints | Descri\u00e7\u00e3o | | <code>id</code> | Integer | PK, Auto | Identificador \u00fanico | | <code>name</code> | Char(100) | NOT NULL | Nome do fornecedor | | <code>description</code> | Text | Nullable | Observa\u00e7\u00f5es | | <code>created_at</code> | DateTime | Auto | Data de cria\u00e7\u00e3o | | <code>updated_at</code> | DateTime | Auto | \u00daltima atualiza\u00e7\u00e3o |</p> <p>Meta:</p> <ul> <li>Ordena\u00e7\u00e3o: <code>name</code> (alfab\u00e9tico)</li> </ul>"},{"location":"data-model/#productmodel-modelo-de-produto","title":"ProductModel (Modelo de Produto)","text":"<p>App: <code>product_models</code> Prop\u00f3sito: Defini\u00e7\u00e3o t\u00e9cnica que agrupa varia\u00e7\u00f5es de um mesmo tipo de produto.</p> <p>| Campo | Tipo | Constraints | Descri\u00e7\u00e3o | | <code>id</code> | Integer | PK, Auto | Identificador \u00fanico | | <code>name</code> | Char(100) | NOT NULL | Nome do modelo | | <code>brand_id</code> | Integer | FK \u2192 Brand, CASCADE | Marca associada | | <code>description</code> | Text | NOT NULL | Especifica\u00e7\u00f5es t\u00e9cnicas | | <code>created_at</code> | DateTime | Auto | Data de cria\u00e7\u00e3o | | <code>updated_at</code> | DateTime | Auto | \u00daltima atualiza\u00e7\u00e3o |</p> <p>Meta:</p> <ul> <li>Ordena\u00e7\u00e3o: <code>name</code> (alfab\u00e9tico)</li> <li>Relacionamento: <code>brand.productmodel_set</code> (reverso)</li> </ul>"},{"location":"data-model/#product-produto","title":"Product (Produto)","text":"<p>App: <code>products</code> Prop\u00f3sito: SKU final para venda ou controle de estoque.</p> <p>| Campo | Tipo | Constraints | Descri\u00e7\u00e3o | | <code>id</code> | Integer | PK, Auto | Identificador \u00fanico | | <code>title</code> | Char(500) | NOT NULL | Nome comercial | | <code>product_model_id</code> | Integer | FK \u2192 ProductModel, PROTECT | Modelo t\u00e9cnico | | <code>category_id</code> | Integer | FK \u2192 Category, PROTECT | Categoria | | <code>description</code> | Text(1000) | | Descri\u00e7\u00e3o detalhada | | <code>serial_number</code> | Char(100) | | N\u00famero de s\u00e9rie/c\u00f3digo | | <code>cost_price</code> | Decimal(10,2) | | Pre\u00e7o de custo | | <code>sell_price</code> | Decimal(10,2) | | Pre\u00e7o de venda sugerido | | <code>quantity</code> | Integer | Default=0 | Saldo em estoque | | <code>created_at</code> | DateTime | Auto | Data de cria\u00e7\u00e3o | | <code>updated_at</code> | DateTime | Auto | \u00daltima atualiza\u00e7\u00e3o |</p> <p>Meta:</p> <ul> <li>Ordena\u00e7\u00e3o: <code>title</code> (alfab\u00e9tico)</li> <li>Relacionamentos: <code>inflows</code>, <code>outflows</code></li> </ul> <p>IMPORTANTE: O campo <code>quantity</code> \u00e9 atualizado automaticamente via signals ao registrar <code>Inflow</code> ou <code>Outflow</code>.</p>"},{"location":"data-model/#inflow-entrada","title":"Inflow (Entrada)","text":"<p>App: <code>inflows</code> Prop\u00f3sito: Registro de reposi\u00e7\u00e3o de estoque.</p> <p>| Campo | Tipo | Constraints | Descri\u00e7\u00e3o | | <code>id</code> | Integer | PK, Auto | Identificador \u00fanico | | <code>supplier_id</code> | Integer | FK \u2192 Supplier, PROTECT | Fornecedor | | <code>product_id</code> | Integer | FK \u2192 Product, PROTECT | Produto recebido | | <code>quantity</code> | Integer | Positive | Quantidade recebida | | <code>description</code> | Text | Nullable | Notas fiscais/observa\u00e7\u00f5es | | <code>created_at</code> | DateTime | Auto | Data de cria\u00e7\u00e3o | | <code>updated_at</code> | DateTime | Auto | \u00daltima atualiza\u00e7\u00e3o |</p> <p>Meta:</p> <ul> <li>Ordena\u00e7\u00e3o: <code>-created_at</code> (mais recente primeiro)</li> </ul>"},{"location":"data-model/#outflow-saida","title":"Outflow (Sa\u00edda)","text":"<p>App: <code>outflows</code> Prop\u00f3sito: Registro de vendas/baixas no invent\u00e1rio.</p> <p>| Campo | Tipo | Constraints | Descri\u00e7\u00e3o | | <code>id</code> | Integer | PK, Auto | Identificador \u00fanico | | <code>product_id</code> | Integer | FK \u2192 Product, PROTECT | Produto vendido | | <code>quantity</code> | Integer | Positive | Quantidade vendida | | <code>description</code> | Text | Nullable | Observa\u00e7\u00f5es | | <code>created_at</code> | DateTime | Auto | Data de cria\u00e7\u00e3o | | <code>updated_at</code> | DateTime | Auto | \u00daltima atualiza\u00e7\u00e3o |</p> <p>Meta:</p> <ul> <li>Ordena\u00e7\u00e3o: <code>-created_at</code> (mais recente primeiro)</li> </ul>"},{"location":"data-model/#tasknotification-notificacao-de-tarefa","title":"TaskNotification (Notifica\u00e7\u00e3o de Tarefa)","text":"<p>App: <code>notifications</code> Prop\u00f3sito: Rastreamento de tarefas ass\u00edncronas (Celery).</p> <p>| Campo | Tipo | Constraints | Descri\u00e7\u00e3o | | <code>id</code> | Integer | PK, Auto | Identificador \u00fanico | | <code>user_id</code> | Integer | FK \u2192 User, CASCADE | Usu\u00e1rio respons\u00e1vel | | <code>task_type</code> | Char(10) | Choices | <code>export</code> ou <code>import</code> | | <code>task_id</code> | Char(255) | UNIQUE | ID da tarefa Celery | | <code>status</code> | Char(20) | Choices | <code>pending</code>, <code>processing</code>, <code>completed</code>, <code>failed</code> | | <code>model_name</code> | Char(100) | | Nome do modelo exportado | | <code>file_format</code> | Char(10) | | Formato (CSV, PDF, JSON, XML) | | <code>file_path</code> | FileField | Nullable | Caminho do arquivo gerado | | <code>record_count</code> | Integer | Nullable | Total de registros processados | | <code>error_message</code> | Text | | Mensagem de erro (se houver) | | <code>is_read</code> | Boolean | Default=False | Status de leitura | | <code>created_at</code> | DateTime | Auto | Data de cria\u00e7\u00e3o | | <code>updated_at</code> | DateTime | Auto | \u00daltima atualiza\u00e7\u00e3o | | <code>completed_at</code> | DateTime | Nullable | Data de conclus\u00e3o |</p> <p>Meta:</p> <ul> <li>Ordena\u00e7\u00e3o: <code>-created_at</code> (mais recente primeiro)</li> <li>\u00cdndices: <code>(user, is_read)</code>, <code>task_id</code></li> </ul>"},{"location":"data-model/#regras-de-integridade-referencial","title":"\ud83d\udd17 Regras de Integridade Referencial","text":"<p>| Relacionamento | Tipo | On Delete | | ProductModel \u2192 Brand | Many-to-One | CASCADE | | Product \u2192 ProductModel | Many-to-One | PROTECT | | Product \u2192 Category | Many-to-One | PROTECT | | Inflow \u2192 Supplier | Many-to-One | PROTECT | | Inflow \u2192 Product | Many-to-One | PROTECT | | Outflow \u2192 Product | Many-to-One | PROTECT | | TaskNotification \u2192 User | Many-to-One | CASCADE |</p> <p>PROTECT: Impede a exclus\u00e3o se houverem depend\u00eancias. CASCADE: Exclui em cascata os registros dependentes.</p>"},{"location":"deployment/","title":"Deploy e DevOps","text":"<p>Este guia aborda o ciclo de vida de produ\u00e7\u00e3o e as opera\u00e7\u00f5es do sistema.</p>"},{"location":"deployment/#producao-com-docker-compose","title":"\ud83d\ude80 Produ\u00e7\u00e3o com Docker Compose","text":"<p>O arquivo <code>docker-compose.prod.yml</code> \u00e9 otimizado para produ\u00e7\u00e3o:</p> <ul> <li>Imagens: Utiliza o stage <code>runtime</code> do Dockerfile, resultando em imagens de ~150MB.</li> <li>Seguran\u00e7a: Roda com usu\u00e1rio n\u00e3o-root (<code>appuser</code>).</li> <li>Restart Policy: <code>unless-stopped</code> para alta disponibilidade.</li> <li>Logs: Rota\u00e7\u00e3o de logs configurada para evitar estouro de disco.</li> </ul>"},{"location":"deployment/#comandos-de-deploy","title":"Comandos de Deploy","text":"<pre><code># Build e Deploy\ndocker-compose -f docker-compose.prod.yml up -d --build\n\n# Verificar logs\ndocker-compose -f docker-compose.prod.yml logs -f inventory_web\n</code></pre>"},{"location":"deployment/#pipeline-de-cicd-github-actions","title":"\ud83d\udd04 Pipeline de CI/CD (GitHub Actions)","text":"<p>Localizado em <code>.github/workflows/ci-cd.yml</code>, o pipeline garante que:</p> <ol> <li>Linting: Ruff e MyPy validam o estilo.</li> <li>Security: <code>detect-secrets</code> verifica vazamentos de chaves.</li> <li>Testes: Pytest roda toda a su\u00edte de testes.</li> <li>Deploy Autom\u00e1tico: (Opcional) Trigger para atualizar servi\u00e7os via SSH ou push para registry.</li> </ol>"},{"location":"deployment/#checklist-de-seguranca-de-producao","title":"\ud83d\udee1\ufe0f Checklist de Seguran\u00e7a de Produ\u00e7\u00e3o","text":"<ul> <li> <code>DEBUG</code> desativado.</li> <li> <code>ALLOWED_HOSTS</code> configurado com o dom\u00ednio real.</li> <li> Senhas de banco e chaves JWT \u00fanicas e complexas.</li> <li> Volume de <code>staticfiles</code> e <code>mediafiles</code> montado corretamente no Nginx.</li> <li> Sentry DSN configurado para alerta de erros.</li> </ul>"},{"location":"deployment/#gestao-de-arquivos-e-armazenamento","title":"\ud83d\udcc1 Gest\u00e3o de Arquivos e Armazenamento","text":"<ul> <li>Static: Coletados via <code>python manage.py collectstatic</code> no build.</li> <li>Media: Armazenados no volume <code>media_volume</code>. O sistema gera relat\u00f3rios PDF e CSV que ficam dispon\u00edveis para download do usu\u00e1rio por este volume.</li> <li>Backup: Recomenda-se o backup peri\u00f3dico do volume <code>postgres_data_prod</code>.</li> </ul>"},{"location":"development/","title":"Guia de Desenvolvimento e QA","text":"<p>Este documento detalha os padr\u00f5es de qualidade e procedimentos de teste do sistema.</p>"},{"location":"development/#ambiente-de-desenvolvimento","title":"\ud83d\udee0\ufe0f Ambiente de Desenvolvimento","text":""},{"location":"development/#gerenciamento-com-uv","title":"Gerenciamento com UV","text":"<p>O projeto utiliza o Astral UV, que \u00e9 significativamente mais r\u00e1pido que o <code>pip</code> e gerencia ambientes virtuais automaticamente.</p> <ul> <li>Sincronizar ambiente: <code>uv sync</code></li> <li>Adicionar depend\u00eancia: <code>uv add &lt;package&gt;</code></li> <li>Rodar comando no venv: <code>uv run &lt;command&gt;</code></li> </ul>"},{"location":"development/#variaveis-de-ambiente-env","title":"Vari\u00e1veis de Ambiente (.env)","text":"<p>Configura\u00e7\u00f5es cr\u00edticas em <code>app/settings.py</code> dependem do <code>.env</code>:</p> <ul> <li><code>DEBUG</code>: <code>True</code> em dev, <code>False</code> em prod.</li> <li><code>SECRET_KEY</code>: Chave de seguran\u00e7a do Django.</li> <li><code>SIGNING_KEY</code>: Chave para assinatura de tokens JWT.</li> <li><code>POSTGRES_DB/...</code>: Credenciais do banco.</li> </ul>"},{"location":"development/#estrategia-de-testes","title":"\ud83e\uddea Estrat\u00e9gia de Testes","text":"<p>Utilizamos Pytest com uma su\u00edte de testes robusta que cobre unit\u00e1rios, integra\u00e7\u00e3o e comportamento.</p>"},{"location":"development/#execucao-de-testes","title":"Execu\u00e7\u00e3o de Testes","text":"<pre><code># Execu\u00e7\u00e3o padr\u00e3o\nuv run pytest\n\n# Verifica\u00e7\u00e3o de cobertura (Coverage)\nuv run pytest --cov=. --cov-report=html\n</code></pre>"},{"location":"development/#categorias-de-testes","title":"Categorias de Testes","text":"<ul> <li>Unit\u00e1rios: Testam modelos e l\u00f3gica isolada (ex: <code>tests/products/test_models.py</code>).</li> <li>Integra\u00e7\u00e3o: Testam o fluxo entre camadas (ex: logic -&gt; database -&gt; cache).</li> <li>API (Request Tests): Testam os endpoints DRF (ex: <code>tests/api/v1/</code>).</li> <li>Signals: Verificam se o estoque \u00e9 atualizado corretamente ap\u00f3s uma entrada/sa\u00edda.</li> </ul>"},{"location":"development/#mocking-e-utilidades","title":"Mocking e Utilidades","text":"<ul> <li>Factory Boy: Usado para gerar dados de teste consistentes sem escrita manual de objetos.</li> <li>Time-machine: Usado para testar comportamentos que dependem da data/hora (ex: relat\u00f3rios di\u00e1rios).</li> <li>Database: O ambiente de testes utiliza SQLite em mem\u00f3ria por padr\u00e3o para velocidade, configurado no <code>pyproject.toml</code> via <code>pytest-env</code>.</li> </ul>"},{"location":"development/#qualidade-de-codigo-linting","title":"\ud83d\udc8e Qualidade de C\u00f3digo (Linting)","text":"<p>N\u00e3o aceitamos c\u00f3digo sem valida\u00e7\u00e3o de estilo e tipos.</p>"},{"location":"development/#ruff-linter-formatter","title":"Ruff (Linter &amp; Formatter)","text":"<p>Substitui o Flake8, Black e Isort com desempenho muito superior.</p> <pre><code>uv run ruff check .  # Lint\nuv run ruff format . # Format\n</code></pre>"},{"location":"development/#mypy-type-checking","title":"MyPy (Type Checking)","text":"<p>Garante que a tipagem est\u00e1tica do Python seja respeitada, reduzindo erros de runtime.</p> <pre><code>uv run mypy .\n</code></pre>"},{"location":"development/#pre-commit-hooks","title":"Pre-commit Hooks","text":"<p>Configurado para rodar antes de cada <code>git commit</code>:</p> <ul> <li>Limpeza de espa\u00e7os em branco.</li> <li>Check de arquivos YAML/JSON.</li> <li>Verifica\u00e7\u00e3o de secrets (preven\u00e7\u00e3o de vazamento de chaves).</li> <li>Execu\u00e7\u00e3o r\u00e1pida do Ruff.</li> </ul>"},{"location":"features/","title":"Funcionalidades do Sistema","text":"<p>Esta p\u00e1gina detalha as capacidades t\u00e9cnicas e operacionais de cada m\u00f3dulo do sistema, acompanhadas de seus respectivos diagramas de uso.</p>"},{"location":"features/#gestao-de-produtos","title":"\ud83d\udce6 Gest\u00e3o de Produtos","text":"<p>Resumo: Este m\u00f3dulo \u00e9 o cora\u00e7\u00e3o do sistema, permitindo o cadastro e organiza\u00e7\u00e3o de itens de estoque com suporte a hierarquia de marcas, categorias e modelos.</p> <pre><code>flowchart TD\n    gestor((Gestor de Estoque))\n    subgraph \"M\u00f3dulo: Produtos\"\n        UC1([Cadastrar Marca/Categoria])\n        UC2([Definir Modelo T\u00e9cnico])\n        UC3([Gerenciar SKU/Produto])\n        UC4([Consultar Saldo])\n    end\n    gestor --- UC1\n    gestor --- UC2\n    gestor --- UC3\n    gestor --- UC4</code></pre>"},{"location":"features/#entradas-inflows","title":"\ud83d\udce5 Entradas (Inflows)","text":"<p>Resumo: Gerencia a reposi\u00e7\u00e3o de estoque. Cada entrada registra a quantidade recebida, o fornecedor respons\u00e1vel e atualiza o saldo do produto automaticamente.</p> <pre><code>flowchart TD\n    op((Operador de Log\u00edstica))\n    subgraph \"M\u00f3dulo: Entradas\"\n        UC1([Registrar Recebimento])\n        UC2([Vincular Fornecedor])\n        UC3([Validar NF/Observa\u00e7\u00f5es])\n    end\n    op --- UC1\n    op --- UC2\n    op --- UC3</code></pre>"},{"location":"features/#saidas-outflows","title":"\ud83d\udce4 Sa\u00eddas (Outflows)","text":"<p>Resumo: Controla a baixa de mercadorias. O sistema valida se h\u00e1 saldo suficiente antes de confirmar a sa\u00edda, garantindo a integridade do invent\u00e1rio.</p> <pre><code>flowchart TD\n    op((Operador de Log\u00edstica))\n    subgraph \"M\u00f3dulo: Sa\u00eddas\"\n        UC1([Registrar Venda/Baixa])\n        UC2([Validar Disponibilidade])\n        UC3([Atualizar Saldo])\n    end\n    op --- UC1\n    op --- UC2\n    op --- UC3</code></pre>"},{"location":"features/#notificacoes-e-tarefas-assincronas","title":"\ud83d\udd14 Notifica\u00e7\u00f5es e Tarefas Ass\u00edncronas","text":"<p>Resumo: Gerencia processos pesados em background (Celery). O usu\u00e1rio solicita uma opera\u00e7\u00e3o e \u00e9 notificado quando o resultado est\u00e1 pronto.</p> <pre><code>flowchart TD\n    user((Usu\u00e1rio Autenticado))\n    subgraph \"M\u00f3dulo: Notifica\u00e7\u00f5es\"\n        UC1([Solicitar Exporta\u00e7\u00e3o])\n        UC2([Acompanhar Status Task])\n        UC3([Download de Arquivos])\n    end\n    user --- UC1\n    user --- UC2\n    user --- UC3</code></pre>"},{"location":"features/#relatorios-dinamicos","title":"\ud83d\udcca Relat\u00f3rios Din\u00e2micos","text":"<p>Resumo: Transforma dados brutos em intelig\u00eancia de neg\u00f3cio atrav\u00e9s de dashboards em tempo real e exporta\u00e7\u00f5es formatadas.</p> <pre><code>flowchart TD\n    ana((Analista))\n    subgraph \"M\u00f3dulo: Relat\u00f3rios\"\n        UC1([Visualizar Dashboard])\n        UC2([Gerar Listagem PDF])\n        UC3([Exportar para Excel/CSV])\n    end\n    ana --- UC1\n    ana --- UC2\n    ana --- UC3</code></pre>"},{"location":"release-notes/","title":"Release Notes","text":""},{"location":"release-notes/#v110-2026-01-27","title":"[v1.1.0] - 2026-01-27","text":"<p>Esta vers\u00e3o traz melhorias significativas na visibilidade operacional do sistema, com foco em notifica\u00e7\u00f5es e relat\u00f3rios.</p>"},{"location":"release-notes/#novidades","title":"\u2b50 Novidades","text":"<ul> <li>M\u00f3dulo de Notifica\u00e7\u00f5es: Rastreamento de tarefas ass\u00edncronas de exporta\u00e7\u00e3o e importa\u00e7\u00e3o.</li> <li>Exporta\u00e7\u00e3o Ass\u00edncrona: Suporte a formatos CSV, PDF, JSON e XML para todos os principais modelos.</li> <li>Dashboard Metrics Cache: M\u00e9tricas do dashboard agora s\u00e3o recalculadas via Celery Beat para performance instant\u00e2nea.</li> <li>Monitoramento: Integra\u00e7\u00e3o com Sentry para rastreio de erros em tempo real.</li> </ul>"},{"location":"release-notes/#tecnico","title":"\ud83d\udee0\ufe0f T\u00e9cnico","text":"<ul> <li>Atualiza\u00e7\u00e3o para Django 5.2.</li> <li>Adi\u00e7\u00e3o de <code>Pandas</code> e <code>WeasyPrint</code> para processamento de dados e PDF.</li> <li>Configura\u00e7\u00e3o de <code>django-celery-beat</code> e <code>django-celery-results</code>.</li> <li>Melhoria nos healthchecks do Docker.</li> </ul>"},{"location":"release-notes/#v101-2026-01-19","title":"[v1.0.1] - 2026-01-19","text":""},{"location":"release-notes/#correcoes","title":"\ud83d\udc1b Corre\u00e7\u00f5es","text":"<ul> <li>Fix no Mermaid Rendering no MkDocs.</li> <li>Melhoria na sidebar e links do admin.</li> </ul>"},{"location":"release-notes/#v100-2026-01-16","title":"[v1.0.0] - 2026-01-16","text":"<ul> <li>Lan\u00e7amento inicial.</li> </ul>"},{"location":"roadmap/","title":"Roadmap","text":"<p>Esta p\u00e1gina apresenta a vis\u00e3o estrat\u00e9gica e os planos de evolu\u00e7\u00e3o do sistema de gest\u00e3o de invent\u00e1rio.</p>"},{"location":"roadmap/#visao-geral","title":"\ud83d\uddfa\ufe0f Vis\u00e3o Geral","text":"<pre><code>timeline\n    title Roadmap de Evolu\u00e7\u00e3o\n    section Q1 2026\n        Integra\u00e7\u00f5es API : REST clients externos\n        Notifica\u00e7\u00f5es WhatsApp : Alertas em tempo real\n    section Q2 2026\n        UI/UX Redesign : Moderniza\u00e7\u00e3o da interface\n        Dashboard Personalizado : Widgets configur\u00e1veis\n    section Q3 2026\n        Agente IA : Assistente inteligente\n        Automa\u00e7\u00f5es Avan\u00e7adas : Workflows customiz\u00e1veis\n    section Q4 2026\n        Mobile App : iOS e Android\n        Analytics Avan\u00e7ado : BI e Machine Learning</code></pre>"},{"location":"roadmap/#fases-de-desenvolvimento","title":"\ud83d\udccb Fases de Desenvolvimento","text":""},{"location":"roadmap/#fase-1-integracoes-q2-2026","title":"\ud83d\udd0c Fase 1: Integra\u00e7\u00f5es (Q2 2026)","text":"<p>Status: \ud83d\udfe1 Planejado</p>"},{"location":"roadmap/#11-apis-externas","title":"1.1 APIs Externas","text":"<pre><code>flowchart LR\n    Sistema[Sistema de Invent\u00e1rio]\n\n    Sistema --&gt; ERP[ERPs&lt;br/&gt;SAP, TOTVS]\n    Sistema --&gt; Ecommerce[E-commerce&lt;br/&gt;Shopify, WooCommerce]\n    Sistema --&gt; Fiscal[Nota Fiscal&lt;br/&gt;NF-e, SAT]\n    Sistema --&gt; Pagamento[Pagamentos&lt;br/&gt;Stripe, Mercado Pago]</code></pre> <p>Integra\u00e7\u00f5es Planejadas:</p> <ul> <li> ERPs: Sincroniza\u00e7\u00e3o bidirecional (SAP, TOTVS, Protheus)</li> <li> E-commerce: Shopify, WooCommerce, Magento</li> <li> Nota Fiscal: Emiss\u00e3o autom\u00e1tica NF-e/NFC-e</li> <li> Gateways de Pagamento: Stripe, Mercado Pago, PagSeguro</li> </ul>"},{"location":"roadmap/#12-notificacoes-whatsapp","title":"1.2 Notifica\u00e7\u00f5es WhatsApp","text":"<p>Funcionalidades:</p> <ul> <li>Alertas de estoque baixo</li> <li>Confirma\u00e7\u00e3o de entradas/sa\u00eddas</li> <li>Relat\u00f3rios di\u00e1rios por WhatsApp</li> <li>Chatbot para consultas r\u00e1pidas</li> </ul> <p>Stack T\u00e9cnica:</p> <ul> <li>Twilio API ou WhatsApp Business API</li> <li>Webhooks para mensagens bidirecionais</li> <li>Templates pr\u00e9-aprovados pelo WhatsApp</li> </ul>"},{"location":"roadmap/#13-notificacoes-por-e-mail","title":"1.3 Notifica\u00e7\u00f5es por E-mail","text":"<p>Automa\u00e7\u00f5es:</p> <ul> <li>Relat\u00f3rios agendados (di\u00e1rio, semanal, mensal)</li> <li>Alertas de produtos com validade pr\u00f3xima</li> <li>Resumo de movimenta\u00e7\u00f5es</li> <li>Notifica\u00e7\u00f5es de tarefas ass\u00edncronas conclu\u00eddas</li> </ul> <p>Stack T\u00e9cnica:</p> <ul> <li>SendGrid ou Amazon SES</li> <li>Templates HTML responsivos</li> <li>Sistema de filas com Celery</li> </ul>"},{"location":"roadmap/#fase-2-uiux-q1-2026","title":"\ud83c\udfa8 Fase 2: UI/UX (Q1 2026)","text":"<p>Status: \ud83d\udfe1 Planejado</p> <p>Objetivos:</p> <ul> <li>Redesign completo da interface com framework moderno (React/Vue.js)</li> <li>Sistema de design unificado (design tokens)</li> <li>Modo escuro/claro</li> <li>Acessibilidade WCAG 2.1 AA</li> </ul> <p>Entreg\u00e1veis:</p> <ul> <li> Prot\u00f3tipos Figma de todas as telas</li> <li> Sistema de design documentado</li> <li> Frontend SPA com framework moderno</li> <li> Responsividade mobile-first</li> </ul>"},{"location":"roadmap/#fase-3-dashboard-personalizado-q1-2026","title":"\ud83d\udcca Fase 3: Dashboard Personalizado (Q1 2026)","text":"<p>Status: \ud83d\udfe1 Planejado</p> <p>Objetivos:</p> <ul> <li>Widgets drag-and-drop</li> <li>Pain\u00e9is salvos por usu\u00e1rio</li> <li>Gr\u00e1ficos interativos (D3.js/Chart.js)</li> <li>Exporta\u00e7\u00e3o de dashboards em PDF</li> </ul> <p>Widgets Planejados:</p> <ol> <li>Indicadores de Estoque</li> <li>Produtos em baixa</li> <li>Valor total em estoque</li> <li> <p>Top 10 movimenta\u00e7\u00f5es</p> </li> <li> <p>An\u00e1lise Financeira</p> </li> <li>Faturamento mensal</li> <li>Margem de lucro</li> <li> <p>Proje\u00e7\u00f5es de vendas</p> </li> <li> <p>Operacional</p> </li> <li>Tempo m\u00e9dio de reposi\u00e7\u00e3o</li> <li>Taxa de rotatividade (turnover)</li> <li>Sazonalidade de vendas</li> </ol>"},{"location":"roadmap/#fase-4-agente-de-ia-q3-2026","title":"\ud83e\udd16 Fase 4: Agente de IA (Q3 2026)","text":"<p>Status: \ud83d\udd35 Conceitual</p> <p>Vis\u00e3o: Assistente inteligente para gest\u00e3o preditiva de invent\u00e1rio.</p> <pre><code>flowchart TD\n    User[Usu\u00e1rio] --&gt;|Chat| Agent[Agente IA]\n    Agent --&gt; NLP[Processamento&lt;br/&gt;de Linguagem Natural]\n    Agent --&gt; ML[Machine Learning&lt;br/&gt;Models]\n\n    NLP --&gt;|Entende comando| Action{A\u00e7\u00e3o}\n    Action --&gt;|Consulta| Query[Buscar dados]\n    Action --&gt;|Predi\u00e7\u00e3o| Forecast[Prever demanda]\n    Action --&gt;|Recomenda\u00e7\u00e3o| Suggest[Sugerir reposi\u00e7\u00e3o]\n\n    ML --&gt; Demand[Previs\u00e3o de Demanda]\n    ML --&gt; Anomaly[Detec\u00e7\u00e3o de Anomalias]\n    ML --&gt; Optimize[Otimiza\u00e7\u00e3o de Estoque]</code></pre> <p>Capacidades:</p> <ol> <li> <p>Assistente Virtual</p> </li> <li> <p>\"Qual o estoque de notebooks?\"</p> </li> <li>\"Quando devo repor o produto X?\"</li> <li> <p>\"Mostre as vendas desta semana\"</p> </li> <li> <p>Predi\u00e7\u00e3o de Demanda</p> </li> <li> <p>An\u00e1lise de s\u00e9ries temporais (ARIMA, Prophet)</p> </li> <li>Previs\u00e3o de vendas com ML</li> <li> <p>Sugest\u00f5es autom\u00e1ticas de reposi\u00e7\u00e3o</p> </li> <li> <p>Detec\u00e7\u00e3o de Anomalias</p> </li> <li> <p>Identifica\u00e7\u00e3o de padr\u00f5es incomuns</p> </li> <li>Alertas de poss\u00edveis fraudes</li> <li>Varia\u00e7\u00f5es anormais de estoque</li> </ol> <p>Stack T\u00e9cnica:</p> <ul> <li>LLM: OpenAI GPT-4 ou Anthropic Claude</li> <li>Framework: LangChain ou LlamaIndex</li> <li>Vector DB: Pinecone ou Weaviate</li> <li>ML: scikit-learn, Prophet, TensorFlow</li> </ul>"},{"location":"roadmap/#fase-5-automacoes-avancadas-q3-2026","title":"\u2699\ufe0f Fase 5: Automa\u00e7\u00f5es Avan\u00e7adas (Q3 2026)","text":"<p>Status: \ud83d\udd35 Conceitual</p> <p>Objetivos:</p> <ul> <li> Workflow builder visual (n8n-style)</li> <li> Triggers customiz\u00e1veis</li> <li> A\u00e7\u00f5es condicionais</li> <li> Integra\u00e7\u00e3o com Zapier/Make</li> </ul> <p>Exemplos de Workflows:</p> <ol> <li>Reposi\u00e7\u00e3o Autom\u00e1tica</li> </ol> <pre><code>SE estoque &lt; m\u00ednimo\nENT\u00c3O criar pedido de compra\nE notificar fornecedor\n</code></pre> <ol> <li>Promo\u00e7\u00e3o Inteligente</li> </ol> <pre><code>SE produto parado &gt; 30 dias\nENT\u00c3O criar oferta promocional\nE notificar equipe de marketing\n</code></pre>"},{"location":"roadmap/#fase-6-analytics-avancado-q4-2026","title":"\ud83d\udcc8 Fase 6: Analytics Avan\u00e7ado (Q4 2026)","text":"<p>Status: \ud83d\udd35 Conceitual</p> <p>M\u00f3dulos Planejados:</p> <ol> <li> <p>BI (Business Intelligence)</p> <ul> <li>Metabase ou Apache Superset integrado</li> <li>An\u00e1lise multidimensional (OLAP)</li> <li>Drill-down em m\u00e9tricas</li> </ul> </li> <li> <p>Machine Learning</p> <ul> <li>Clusteriza\u00e7\u00e3o de produtos (K-means)</li> <li>An\u00e1lise de cesta de compras (Market Basket)</li> <li>Segmenta\u00e7\u00e3o de clientes (RFM)</li> </ul> </li> <li> <p>Visualiza\u00e7\u00f5es Avan\u00e7adas</p> <ul> <li>Heatmaps de movimenta\u00e7\u00e3o</li> <li>Gr\u00e1ficos de Sankey (fluxo de produtos)</li> <li>Geo-localiza\u00e7\u00e3o de estoque</li> </ul> </li> </ol>"},{"location":"roadmap/#fase-7-mobile-app-q4-2026","title":"\ud83d\udcf1 Fase 7: Mobile App (Q4 2026)","text":"<p>Status: \ud83d\udd35 Conceitual</p> <p>Plataformas:</p> <ul> <li>iOS (Swift/SwiftUI)</li> <li>Android (Kotlin/Jetpack Compose)</li> <li>Ou React Native (multi-plataforma)</li> </ul> <p>Funcionalidades:</p> <ul> <li>Scanner de c\u00f3digo de barras</li> <li>Entrada/sa\u00edda r\u00e1pida via QR Code</li> <li>Notifica\u00e7\u00f5es push</li> <li>Dashboard resumido</li> <li>Modo offline com sincroniza\u00e7\u00e3o</li> </ul>"},{"location":"roadmap/#priorizacao-por-impacto","title":"\ud83c\udfaf Prioriza\u00e7\u00e3o por Impacto","text":"Fase Esfor\u00e7o Impacto Prioridade UI/UX Alto Alto \ud83d\udd34 Cr\u00edtica Dashboard Personalizado M\u00e9dio Alto \ud83d\udd34 Cr\u00edtica WhatsApp Baixo Alto \ud83d\udfe0 Alta E-mail Baixo M\u00e9dio \ud83d\udfe1 M\u00e9dia APIs Externas Alto M\u00e9dio \ud83d\udfe1 M\u00e9dia Agente IA Muito Alto M\u00e9dio \ud83d\udfe2 Baixa Mobile App Muito Alto Baixo \ud83d\udfe2 Baixa"},{"location":"roadmap/#quick-wins-entregas-rapidas","title":"\ud83d\ude80 Quick Wins (Entregas R\u00e1pidas)","text":"<p>Funcionalidades que podem ser implementadas rapidamente:</p> <ul> <li>\u2705 Excel Import Aprimorado: Suporte a XLSX e valida\u00e7\u00f5es avan\u00e7adas</li> <li>\u2705 Gr\u00e1ficos de Tend\u00eancia: An\u00e1lise visual de vendas (7/30/90 dias)</li> <li>\u2705 Filtros Avan\u00e7ados: Multi-sele\u00e7\u00e3o e busca fuzzy</li> <li>\u2705 Dark Mode: Tema escuro para a interface atual</li> <li>\u2705 API Rate Limiting: Prote\u00e7\u00e3o contra abuso</li> <li>\u2705 Logs de Auditoria: Rastreamento de todas as a\u00e7\u00f5es</li> </ul>"},{"location":"roadmap/#sugestoes-da-comunidade","title":"\ud83d\udca1 Sugest\u00f5es da Comunidade","text":"<p>Quer contribuir com ideias? Abra uma issue no GitHub:</p> <pre><code>https://github.com/cllmenate/inventory-management/issues\n</code></pre> <p>Categorias de Sugest\u00e3o:</p> <ul> <li>\ud83c\udfa8 UI/UX</li> <li>\ud83d\udd27 Funcionalidades</li> <li>\ud83d\udc1b Bugs</li> <li>\ud83d\udcda Documenta\u00e7\u00e3o</li> <li>\ud83d\ude80 Performance</li> </ul>"},{"location":"roadmap/#calendario-de-releases","title":"\ud83d\udcc5 Calend\u00e1rio de Releases","text":"Vers\u00e3o Data Prevista Destaques v2.0 Mar/2026 WhatsApp, E-mail, APIs v2.1 Jun/2026 Novo UI, Dashboard Personalizado v3.0 Set/2026 Agente IA, Workflows v4.0 Dez/2026 Analytics ML, Mobile <p>Nota: Este roadmap \u00e9 din\u00e2mico e pode ser ajustado conforme feedback da comunidade e prioridades de neg\u00f3cio.</p>"},{"location":"testing/","title":"Estrat\u00e9gia de Testes","text":"<p>Esta p\u00e1gina documenta a abordagem de testes do sistema, cobrindo configura\u00e7\u00e3o, fixtures, factories e cobertura de c\u00f3digo.</p>"},{"location":"testing/#stack-de-testes","title":"\ud83e\uddea Stack de Testes","text":"<p>| Ferramenta | Fun\u00e7\u00e3o | Vers\u00e3o | | Pytest | Framework de testes | ~8.3.3 | | pytest-django | Integra\u00e7\u00e3o Pytest + Django | ~4.9.0 | | pytest-cov | Relat\u00f3rio de cobertura | ~6.0.0 | | Factory Boy | Gera\u00e7\u00e3o de dados de teste | ~3.3.1 | | time-machine | Simula\u00e7\u00e3o de data/hora | ~2.16.0 |</p>"},{"location":"testing/#estrutura-de-testes","title":"\ud83d\udcc2 Estrutura de Testes","text":"<pre><code>#!/bin/bash\ntests/\n\u251c\u2500\u2500 conftest.py                 # Fixtures globais\n\u251c\u2500\u2500 factories/                  # Factory Boy\n\u2502   \u251c\u2500\u2500 brand_factory.py\n\u2502   \u251c\u2500\u2500 category_factory.py\n\u2502   \u251c\u2500\u2500 product_factory.py\n\u2502   \u2514\u2500\u2500 ...\n\u251c\u2500\u2500 api/                        # Testes de API (DRF)\n\u2502   \u2514\u2500\u2500 v1/\n\u2502       \u251c\u2500\u2500 test_products.py\n\u2502       \u251c\u2500\u2500 test_inflows.py\n\u2502       \u2514\u2500\u2500 ...\n\u251c\u2500\u2500 brands/                     # Testes unit\u00e1rios\n\u2502   \u251c\u2500\u2500 test_models.py\n\u2502   \u251c\u2500\u2500 test_views.py\n\u2502   \u2514\u2500\u2500 test_serializers.py\n\u2514\u2500\u2500 integration/                # Testes de integra\u00e7\u00e3o\n    \u2514\u2500\u2500 test_stock_flow.py\n</code></pre>"},{"location":"testing/#configuracao-pytest","title":"\u2699\ufe0f Configura\u00e7\u00e3o Pytest","text":""},{"location":"testing/#pyprojecttoml","title":"pyproject.toml","text":"<pre><code>[tool.pytest.ini_options]\nDJANGO_SETTINGS_MODULE = \"app.settings\"\npython_files = [\"test_*.py\", \"*_test.py\"]\naddopts = \"\"\"\n    --ds=app.settings\n    --reuse-db\n    --nomigrations\n    --cov=.\n    --cov-report=html\n    --cov-report=term-missing:skip-covered\n    -x\n    --tb=short\n\"\"\"\n\n[tool.pytest_env]\n# For\u00e7a uso de SQLite em mem\u00f3ria para testes\nDATABASE_URL = \"sqlite:///:memory:\"\nCELERY_TASK_ALWAYS_EAGER = \"True\"  # Executa tasks s\u00edncronas\n</code></pre>"},{"location":"testing/#flags-importantes","title":"Flags Importantes","text":"<ul> <li><code>--reuse-db</code>: Reutiliza banco entre execu\u00e7\u00f5es (mais r\u00e1pido)</li> <li><code>--nomigrations</code>: Usa modelo direto (evita migrations lentas)</li> <li><code>-x</code>: Para no primeiro erro</li> <li><code>--cov</code>: Ativa relat\u00f3rio de cobertura</li> </ul>"},{"location":"testing/#factory-boy-geracao-de-dados","title":"\ud83c\udfed Factory Boy (Gera\u00e7\u00e3o de Dados)","text":""},{"location":"testing/#exemplo-productfactory","title":"Exemplo: ProductFactory","text":"<pre><code># tests/factories/product_factory.py\nimport factory\nfrom products.models import Product\nfrom .brand_factory import BrandFactory\nfrom .category_factory import CategoryFactory\nfrom .product_model_factory import ProductModelFactory\n\nclass ProductFactory(factory.django.DjangoModelFactory):\n    class Meta:\n        model = Product\n\n    title = factory.Faker('name')\n    product_model = factory.SubFactory(ProductModelFactory)\n    category = factory.SubFactory(CategoryFactory)\n    description = factory.Faker('text', max_nb_chars=200)\n    serial_number = factory.Sequence(lambda n: f'SN-{n:05d}')\n    cost_price = factory.Faker('pydecimal', left_digits=3, right_digits=2, positive=True)\n    sell_price = factory.Faker('pydecimal', left_digits=3, right_digits=2, positive=True)\n    quantity = factory.Faker('random_int', min=0, max=100)\n</code></pre>"},{"location":"testing/#uso-nos-testes","title":"Uso nos Testes","text":"<pre><code>from tests.factories import ProductFactory\n\ndef test_product_creation():\n    # Cria um produto com todas as depend\u00eancias\n    product = ProductFactory()\n    assert product.id is not None\n    assert product.quantity &gt;= 0\n\ndef test_multiple_products():\n    # Cria m\u00faltiplos produtos de uma vez\n    products = ProductFactory.create_batch(5)\n    assert len(products) == 5\n</code></pre>"},{"location":"testing/#categorias-de-testes","title":"\ud83d\udcdd Categorias de Testes","text":""},{"location":"testing/#1-testes-unitarios-models","title":"1. Testes Unit\u00e1rios (Models)","text":"<p>Prop\u00f3sito: Validar l\u00f3gica de neg\u00f3cio isolada.</p> <pre><code># tests/products/test_models.py\nimport pytest\nfrom tests.factories import ProductFactory\n\n@pytest.mark.django_db\nclass TestProductModel:\n    def test_str_representation(self):\n        product = ProductFactory(title=\"Notebook Dell\")\n        assert str(product) == \"Notebook Dell\"\n\n    def test_default_quantity_is_zero(self):\n        product = ProductFactory.build(quantity=None)\n        product.save()\n        assert product.quantity == 0\n</code></pre>"},{"location":"testing/#2-testes-de-api-requestresponse","title":"2. Testes de API (Request/Response)","text":"<p>Prop\u00f3sito: Validar endpoints REST.</p> <pre><code># tests/api/v1/test_products.py\nimport pytest\nfrom rest_framework.test import APIClient\nfrom tests.factories import ProductFactory, UserFactory\n\n@pytest.mark.django_db\nclass TestProductAPI:\n    def setup_method(self):\n        self.client = APIClient()\n        self.user = UserFactory()\n        self.client.force_authenticate(user=self.user)\n\n    def test_list_products(self):\n        ProductFactory.create_batch(3)\n        response = self.client.get('/api/v1/products/')\n        assert response.status_code == 200\n        assert len(response.data['results']) == 3\n\n    def test_create_product_requires_auth(self):\n        self.client.logout()\n        response = self.client.post('/api/v1/products/', {})\n        assert response.status_code == 401\n</code></pre>"},{"location":"testing/#3-testes-de-integracao-fluxo-completo","title":"3. Testes de Integra\u00e7\u00e3o (Fluxo Completo)","text":"<p>Prop\u00f3sito: Validar intera\u00e7\u00e3o entre m\u00faltiplos componentes.</p> <pre><code># tests/integration/test_stock_flow.py\nimport pytest\nfrom tests.factories import ProductFactory, InflowFactory\n\n@pytest.mark.django_db\nclass TestStockFlow:\n    def test_inflow_updates_quantity(self):\n        \"\"\"Testa se signal de Inflow atualiza estoque.\"\"\"\n        product = ProductFactory(quantity=10)\n\n        # Registra uma entrada\n        InflowFactory(product=product, quantity=5)\n\n        # Verifica se saldo foi atualizado\n        product.refresh_from_db()\n        assert product.quantity == 15\n</code></pre>"},{"location":"testing/#time-machine-simulacao-de-tempo","title":"\ud83d\udd50 Time-Machine (Simula\u00e7\u00e3o de Tempo)","text":"<pre><code>import time_machine\nfrom datetime import datetime\n\n@time_machine.travel(\"2025-12-31 23:59:59\")\ndef test_end_of_year_report():\n    \"\"\"Testa relat\u00f3rio de fim de ano.\"\"\"\n    # O sistema pensa que \u00e9 31/12/2025\n    assert datetime.now().year == 2025\n</code></pre>"},{"location":"testing/#cobertura-de-codigo","title":"\ud83d\udcca Cobertura de C\u00f3digo","text":""},{"location":"testing/#executar-com-relatorio","title":"Executar com Relat\u00f3rio","text":"<pre><code># Rodar testes com cobertura\nuv run pytest\n\n# Abrir relat\u00f3rio HTML\nuv run python -m http.server --directory htmlcov 8080\n</code></pre>"},{"location":"testing/#targets-de-cobertura","title":"Targets de Cobertura","text":"<p>| Componente | Target | Atual | | Models | 100% | ~95% | | Views | 90% | ~88% | | Serializers | 95% | ~92% | | Logic/Services | 95% | ~90% | | Global | 90% | ~89% |</p>"},{"location":"testing/#fixtures-globais-conftestpy","title":"\ud83d\udd0d Fixtures Globais (conftest.py)","text":"<pre><code># tests/conftest.py\nimport pytest\nfrom rest_framework.test import APIClient\n\n@pytest.fixture\ndef api_client():\n    \"\"\"Cliente autenticado para APIs.\"\"\"\n    return APIClient()\n\n@pytest.fixture\ndef authenticated_user(db):\n    \"\"\"Usu\u00e1rio autenticado.\"\"\"\n    from tests.factories import UserFactory\n    return UserFactory()\n\n@pytest.fixture\ndef admin_client(admin_user):\n    \"\"\"Cliente com usu\u00e1rio admin.\"\"\"\n    client = APIClient()\n    client.force_authenticate(user=admin_user)\n    return client\n</code></pre>"},{"location":"testing/#executando-testes","title":"\ud83d\ude80 Executando Testes","text":""},{"location":"testing/#comandos-principais","title":"Comandos Principais","text":"<pre><code># Todos os testes\nuv run pytest\n\n# Apenas um arquivo\nuv run pytest tests/products/test_models.py\n\n# Apenas um teste espec\u00edfico\nuv run pytest tests/products/test_models.py::test_product_creation\n\n# Com output verboso\nuv run pytest -v\n\n# Parar no primeiro erro\nuv run pytest -x\n\n# Ver print() statements\nuv run pytest -s\n</code></pre>"},{"location":"testing/#cicd-pipeline-github-actions","title":"CI/CD Pipeline (GitHub Actions)","text":"<pre><code># .github/workflows/ci-cd.yml\n- name: Run Tests\n  run: |\n    uv run pytest --cov --cov-report=xml\n\n- name: Upload Coverage\n  uses: codecov/codecov-action@v3\n  with:\n    files: ./coverage.xml\n</code></pre>"},{"location":"testing/#debugging-de-testes","title":"\ud83d\udee0\ufe0f Debugging de Testes","text":""},{"location":"testing/#usar-debugger","title":"Usar Debugger","text":"<pre><code>import pytest\n\ndef test_something():\n    breakpoint()  # Para execu\u00e7\u00e3o aqui\n    # ou\n    import pdb; pdb.set_trace()\n</code></pre>"},{"location":"testing/#ver-queries-sql","title":"Ver Queries SQL","text":"<pre><code>from django.test.utils import override_settings\nfrom django.db import connection\n\n@override_settings(DEBUG=True)\ndef test_with_sql_debug():\n    # Suas queries...\n    print(connection.queries)\n</code></pre>"},{"location":"testing/#boas-praticas","title":"\u2705 Boas Pr\u00e1ticas","text":"<ol> <li>Independ\u00eancia: Cada teste deve rodar isoladamente</li> <li>Fixtures: Use factories em vez de criar objetos manualmente</li> <li>Nomenclatura: <code>test_&lt;ac\u00e3o&gt;_&lt;resultado_esperado&gt;</code></li> <li>AAA Pattern: Arrange, Act, Assert</li> <li>Coverage: Mantenha acima de 85%</li> <li>Velocidade: Suite completa deve rodar em &lt; 2 minutos</li> </ol> <pre><code># \u2705 BOM\ndef test_outflow_reduces_quantity():\n    # Arrange\n    product = ProductFactory(quantity=10)\n\n    # Act\n    OutflowFactory(product=product, quantity=3)\n\n    # Assert\n    product.refresh_from_db()\n    assert product.quantity == 7\n\n# \u274c RUIM (v\u00e1rios asserts n\u00e3o relacionados)\ndef test_everything():\n    assert 1 + 1 == 2\n    assert \"foo\" != \"bar\"\n    # ...\n</code></pre>"},{"location":"use-cases/","title":"Casos de Uso","text":"<p>Este documento detalha o fluxo de intera\u00e7\u00e3o e a l\u00f3gica de neg\u00f3cio para os principais cen\u00e1rios do sistema.</p>"},{"location":"use-cases/#1-homologacao-de-novo-produto","title":"\ud83d\uddc2\ufe0f 1. Homologa\u00e7\u00e3o de Novo Produto","text":"<p>Ator: Gestor de Estoque Resumo: Processo de introdu\u00e7\u00e3o de um novo item no cat\u00e1logo, garantindo que todas as depend\u00eancias (Marca, Categoria, Modelo) existam corretamente.</p> <pre><code>sequenceDiagram\n    participant Gestor\n    participant API\n    participant DB\n\n    Gestor-&gt;&gt;API: POST /brands/ (Cria Marca)\n    API-&gt;&gt;DB: Salva Marca\n    Gestor-&gt;&gt;API: POST /categories/ (Cria Categoria)\n    API-&gt;&gt;DB: Salva Categoria\n    Gestor-&gt;&gt;API: POST /product-models/ (Cria Modelo)\n    API-&gt;&gt;DB: Salva Modelo (Link com Marca)\n    Gestor-&gt;&gt;API: POST /products/ (Cria Produto)\n    API-&gt;&gt;DB: Salva Produto (Link com Modelo/Categoria)\n    API--&gt;&gt;Gestor: Produto Homologado com Sucesso</code></pre>"},{"location":"use-cases/#2-recebimento-de-carga-inflow","title":"\ud83d\udce5 2. Recebimento de Carga (Inflow)","text":"<p>Ator: Operador de Log\u00edstica Resumo: Registro de entrada de mercadoria fornecida por um parceiro externo, resultando no incremento autom\u00e1tico do saldo em estoque.</p> <pre><code>sequenceDiagram\n    participant Operador\n    participant API\n    participant Sign as Signal/Logic\n    participant DB\n\n    Operador-&gt;&gt;API: POST /inflows/ (Produto, Qtd, Fornecedor)\n    API-&gt;&gt;DB: Salva registro de Entrada\n    API-&gt;&gt;Sign: Dispara atualiza\u00e7\u00e3o de estoque\n    Sign-&gt;&gt;DB: UPDATE products SET quantity = quantity + inflow_qtd\n    DB--&gt;&gt;API: Saldo Atualizado\n    API--&gt;&gt;Operador: Entrada Registrada e Saldo Atualizado</code></pre>"},{"location":"use-cases/#3-auditoria-mensal-de-inventario","title":"\ud83d\udcca 3. Auditoria Mensal de Invent\u00e1rio","text":"<p>Ator: Analista de Dados Resumo: Extra\u00e7\u00e3o de dados para confer\u00eancia externa. Utiliza processamento ass\u00edncrono para lidar com grandes volumes de dados sem impactar a performance.</p> <pre><code>sequenceDiagram\n    participant Analista\n    participant API\n    participant Celery\n    participant Notif as Notifica\u00e7\u00e3o\n\n    Analista-&gt;&gt;API: Solicita Export (PDF/Excel)\n    API-&gt;&gt;Celery: Despacha tarefa (Async)\n    API--&gt;&gt;Analista: \"Solicita\u00e7\u00e3o Recebida (ID: #123)\"\n\n    Note over Celery: Processando dados pesados...\n\n    Celery-&gt;&gt;Notif: Marca tarefa como \"Conclu\u00edda\"\n    Analista-&gt;&gt;API: Consulta notifica\u00e7\u00f5es\n    API--&gt;&gt;Analista: Link para Download liberado</code></pre>"},{"location":"use-cases/#diagrama-geral-de-atores","title":"\ud83d\udcc8 Diagrama Geral de Atores","text":"<p>Abaixo est\u00e1 a vis\u00e3o consolidada de acesso por perfil:</p> <pre><code>flowchart TD\n    admin((Administrador))\n    gestor((Gestor))\n    op((Operador))\n    ana((Analista))\n\n    subgraph \"Sistema de Gest\u00e3o\"\n        UC1([Gest\u00e3o de Usu\u00e1rios])\n        UC2([Setup de Produtos])\n        UC3([Movimentar Estoque])\n        UC4([Extra\u00e7\u00e3o de Dados])\n    end\n\n    admin --- UC1\n    admin --- UC2\n    admin --- UC3\n    admin --- UC4\n\n    gestor --- UC2\n    op --- UC3\n    ana --- UC4</code></pre>"}]}